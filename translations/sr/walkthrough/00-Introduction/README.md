<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "4a903b684f72790625340375b1a033c6",
  "translation_date": "2025-09-30T07:20:13+00:00",
  "source_file": "walkthrough/00-Introduction/README.md",
  "language_code": "sr"
}
-->
# Увод у MCP интеграцију са базом података

## 🎯 Шта овај модул покрива

Овај уводни модул пружа свеобухватан преглед изградње сервера за Model Context Protocol (MCP) са интеграцијом базе података. Разумећете пословни случај, техничку архитектуру и примену у стварном свету кроз пример аналитике Zava Retail.

## Преглед

**Model Context Protocol (MCP)** омогућава AI асистентима да безбедно приступају и интерагују са спољним изворима података у реалном времену. Када се MCP комбинује са интеграцијом базе података, откључавају се моћне могућности за AI апликације засноване на подацима.

Овај курс вас учи како да изградите MCP сервере спремне за производњу који повезују AI асистенте са подацима о продаји у малопродаји преко PostgreSQL-а, примењујући корпоративне шаблоне као што су Row Level Security, семантичка претрага и приступ подацима за више корисника.

## Циљеви учења

На крају овог модула, моћи ћете да:

- **Дефинишете** Model Context Protocol и његове основне предности за интеграцију базе података
- **Идентификујете** кључне компоненте архитектуре MCP сервера са базама података
- **Разумете** пример употребе Zava Retail и његове пословне захтеве
- **Препознате** корпоративне шаблоне за безбедан и скалабилан приступ базама података
- **Наведете** алате и технологије коришћене током овог курса

## 🧭 Изазов: AI и подаци из стварног света

### Ограничења традиционалног AI-а

Модерни AI асистенти су изузетно моћни, али се суочавају са значајним ограничењима када раде са пословним подацима из стварног света:

| **Изазов**          | **Опис**                                   | **Утицај на пословање**             |
|----------------------|--------------------------------------------|-------------------------------------|
| **Статичко знање**   | AI модели обучени на фиксним сетовима података не могу приступити актуелним пословним подацима | Застарели увиди, пропуштене прилике |
| **Сегменти података**| Информације закључане у базама података, API-јима и системима до којих AI не може да дође | Непотпуна анализа, фрагментирани токови рада |
| **Безбедносна ограничења** | Директан приступ базама података подиже безбедносне и регулаторне изазове | Ограничена примена, ручна припрема података |
| **Комплексни упити** | Пословни корисници морају имати техничко знање за извлачење увида из података | Смањена употреба, неефикасни процеси |

### MCP решење

Model Context Protocol решава ове изазове пружајући:

- **Приступ подацима у реалном времену**: AI асистенти упитују активне базе података и API-је
- **Безбедну интеграцију**: Контролисан приступ са аутентификацијом и дозволама
- **Интерфејс на природном језику**: Пословни корисници постављају питања на обичном енглеском
- **Стандардизован протокол**: Ради на различитим AI платформама и алатима

## 🏪 Упознајте Zava Retail: наш студијски случај

Током овог курса, изградићемо MCP сервер за **Zava Retail**, измишљени ланац продавница за "уради сам" пројекте са више локација. Ова реалистична ситуација демонстрира MCP имплементацију на нивоу предузећа.

### Пословни контекст

**Zava Retail** послује:
- **8 физичких продавница** широм државе Вашингтон (Сијетл, Белвју, Такома, Спокен, Еверет, Редмонд, Киркланд)
- **1 онлајн продавница** за е-трговину
- **Разноврстан каталог производа** укључујући алате, хардвер, баштенски прибор и грађевински материјал
- **Вишениво менаџмент** са менаџерима продавница, регионалним менаџерима и извршним директорима

### Пословни захтеви

Менаџери продавница и извршни директори требају AI аналитике за:

1. **Анализу продајних резултата** широм продавница и временских периода
2. **Праћење нивоа залиха** и идентификацију потреба за допуњавањем
3. **Разумевање понашања купаца** и образаца куповине
4. **Откривање увида о производима** кроз семантичку претрагу
5. **Генерисање извештаја** помоћу упита на природном језику
6. **Одржавање безбедности података** уз контролу приступа засновану на улогама

### Технички захтеви

MCP сервер мора пружити:

- **Приступ подацима за више корисника** где менаџери продавница виде само податке своје продавнице
- **Флексибилно упитивање** које подржава сложене SQL операције
- **Семантичку претрагу** за откривање производа и препоруке
- **Подаци у реалном времену** који одражавају тренутно стање пословања
- **Безбедну аутентификацију** уз Row Level Security
- **Скалабилну архитектуру** која подржава више корисника истовремено

## 🏗️ Преглед архитектуре MCP сервера

Наш MCP сервер имплементира слојевиту архитектуру оптимизовану за интеграцију базе података:

```
┌─────────────────────────────────────────────────────────────┐
│                    VS Code AI Client                       │
│                  (Natural Language Queries)                │
└─────────────────────┬───────────────────────────────────────┘
                      │ HTTP/SSE
                      ▼
┌─────────────────────────────────────────────────────────────┐
│                     MCP Server                             │
│  ┌─────────────────┐ ┌─────────────────┐ ┌───────────────┐ │
│  │   Tool Layer    │ │  Security Layer │ │  Config Layer │ │
│  │                 │ │                 │ │               │ │
│  │ • Query Tools   │ │ • RLS Context   │ │ • Environment │ │
│  │ • Schema Tools  │ │ • User Identity │ │ • Connections │ │
│  │ • Search Tools  │ │ • Access Control│ │ • Validation  │ │
│  └─────────────────┘ └─────────────────┘ └───────────────┘ │
└─────────────────────┬───────────────────────────────────────┘
                      │ asyncpg
                      ▼
┌─────────────────────────────────────────────────────────────┐
│                PostgreSQL Database                         │
│  ┌─────────────────┐ ┌─────────────────┐ ┌───────────────┐ │
│  │  Retail Schema  │ │   RLS Policies  │ │   pgvector    │ │
│  │                 │ │                 │ │               │ │
│  │ • Stores        │ │ • Store-based   │ │ • Embeddings  │ │
│  │ • Customers     │ │   Isolation     │ │ • Similarity  │ │
│  │ • Products      │ │ • Role Control  │ │   Search      │ │
│  │ • Orders        │ │ • Audit Logs    │ │               │ │
│  └─────────────────┘ └─────────────────┘ └───────────────┘ │
└─────────────────────┬───────────────────────────────────────┘
                      │ REST API
                      ▼
┌─────────────────────────────────────────────────────────────┐
│                  Azure OpenAI                              │
│               (Text Embeddings)                            │
└─────────────────────────────────────────────────────────────┘
```

### Кључне компоненте

#### **1. MCP серверски слој**
- **FastMCP Framework**: Модерна Python имплементација MCP сервера
- **Регистрација алата**: Декларативне дефиниције алата са типском сигурношћу
- **Контекст захтева**: Управљање идентитетом корисника и сесијама
- **Руковање грешкама**: Робусно управљање грешкама и логовање

#### **2. Слој интеграције базе података**
- **Пул конекција**: Ефикасно управљање асинхроним конекцијама преко asyncpg
- **Провајдер шема**: Динамичко откривање шема табела
- **Извршилац упита**: Безбедно извршавање SQL упита уз RLS контекст
- **Управљање трансакцијама**: Усклађеност са ACID принципима и руковање повратом

#### **3. Слој безбедности**
- **Row Level Security**: PostgreSQL RLS за изолацију података за више корисника
- **Идентитет корисника**: Аутентификација и ауторизација менаџера продавница
- **Контрола приступа**: Детаљне дозволе и историја приступа
- **Валидација уноса**: Превенција SQL инјекција и валидација упита

#### **4. Слој AI побољшања**
- **Семантичка претрага**: Векторска уграђивања за откривање производа
- **Azure OpenAI интеграција**: Генерисање текстуалних уграђивања
- **Алгоритми сличности**: pgvector претрага косинусне сличности
- **Оптимизација претраге**: Индексирање и подешавање перформанси

## 🔧 Технолошки стек

### Основне технологије

| **Компонента**       | **Технологија**          | **Намена**                     |
|-----------------------|--------------------------|---------------------------------|
| **MCP Framework**     | FastMCP (Python)         | Модерна имплементација MCP сервера |
| **База података**     | PostgreSQL 17 + pgvector | Релациони подаци са претрагом вектора |
| **AI услуге**         | Azure OpenAI             | Текстуална уграђивања и језички модели |
| **Контенеризација**   | Docker + Docker Compose  | Развојно окружење              |
| **Cloud платформа**   | Microsoft Azure          | Продукциона имплементација     |
| **IDE интеграција**   | VS Code                  | AI Chat и ток рада развоја     |

### Алатке за развој

| **Алатка**            | **Намена**              |
|------------------------|-------------------------|
| **asyncpg**            | Високоперформансни PostgreSQL драјвер |
| **Pydantic**           | Валидација и серијализација података |
| **Azure SDK**          | Интеграција cloud услуга |
| **pytest**             | Оквир за тестирање      |
| **Docker**             | Контенеризација и имплементација |

### Продукциони стек

| **Услуга**             | **Azure ресурс**        | **Намена**                     |
|------------------------|-------------------------|---------------------------------|
| **База података**      | Azure Database for PostgreSQL | Управљана база података       |
| **Контенер**           | Azure Container Apps    | Хостинг без сервера            |
| **AI услуге**          | Azure AI Foundry        | OpenAI модели и ендпоинти      |
| **Мониторинг**         | Application Insights    | Опсервабилност и дијагностика  |
| **Безбедност**         | Azure Key Vault         | Управљање тајнама и конфигурацијом |

## 🎬 Сценарији употребе у стварном свету

Хајде да истражимо како различити корисници интерагују са нашим MCP сервером:

### Сценарио 1: Преглед перформанси менаџера продавнице

**Корисник**: Сара, менаџер продавнице у Сијетлу  
**Циљ**: Анализа продајних резултата за последњи квартал

**Упит на природном језику**:
> "Прикажи ми 10 најпродаванијих производа по приходу за моју продавницу у Q4 2024"

**Шта се дешава**:
1. VS Code AI Chat шаље упит MCP серверу
2. MCP сервер идентификује контекст продавнице Сијетл
3. RLS политике филтрирају податке само за продавницу Сијетл
4. SQL упит се генерише и извршава
5. Резултати се форматирају и враћају AI Chat-у
6. AI пружа анализу и увиде

### Сценарио 2: Откривање производа помоћу семантичке претраге

**Корисник**: Мајк, менаџер залиха  
**Циљ**: Проналажење производа сличних захтеву купца

**Упит на природном језику**:
> "Које производе продајемо који су слични 'водоотпорним електричним конекторима за спољашњу употребу'?"

**Шта се дешава**:
1. Упит се обрађује алатом за семантичку претрагу
2. Azure OpenAI генерише векторско уграђивање
3. pgvector врши претрагу сличности
4. Повезани производи се рангирају по релевантности
5. Резултати укључују детаље о производима и доступност
6. AI предлаже алтернативе и могућности за паковање

### Сценарио 3: Аналитика за више продавница

**Корисник**: Џенифер, регионални менаџер  
**Циљ**: Поређење перформанси свих продавница

**Упит на природном језику**:
> "Упореди продају по категоријама за све продавнице у последњих 6 месеци"

**Шта се дешава**:
1. RLS контекст се поставља за приступ регионалног менаџера
2. Генерише се сложен упит за више продавница
3. Подаци се агрегирају широм локација продавница
4. Резултати укључују трендове и поређења
5. AI идентификује увиде и препоруке

## 🔒 Дубински преглед безбедности и мулти-корисничког приступа

Наша имплементација приоритетно третира безбедност на нивоу предузећа:

### Row Level Security (RLS)

PostgreSQL RLS обезбеђује изолацију података:

```sql
-- Store managers see only their store's data
CREATE POLICY store_manager_policy ON retail.orders
  FOR ALL TO store_managers
  USING (store_id = get_current_user_store());

-- Regional managers see multiple stores
CREATE POLICY regional_manager_policy ON retail.orders
  FOR ALL TO regional_managers
  USING (store_id = ANY(get_user_store_list()));
```

### Управљање идентитетом корисника

Свака MCP конекција укључује:
- **ID менаџера продавнице**: Јединствени идентификатор за RLS контекст
- **Додела улога**: Дозволе и нивои приступа
- **Управљање сесијама**: Безбедни токени за аутентификацију
- **Историја приступа**: Комплетна евиденција приступа

### Заштита података

Вишеслојна безбедност:
- **Шифровање конекције**: TLS за све конекције са базом података
- **Превенција SQL инјекција**: Искључиво параметризовани упити
- **Валидација уноса**: Свеобухватна валидација захтева
- **Руковање грешкама**: Без осетљивих података у порукама о грешкама

## 🎯 Кључни закључци

Након завршетка овог увода, требало би да разумете:

✅ **Вредност MCP-а**: Како MCP повезује AI асистенте и податке из стварног света  
✅ **Пословни контекст**: Захтеве и изазове Zava Retail-а  
✅ **Преглед архитектуре**: Кључне компоненте и њихове интеракције  
✅ **Технолошки стек**: Алатке и оквири коришћени током курса  
✅ **Модел безбедности**: Приступ подацима за више корисника и заштита  
✅ **Шаблони употребе**: Сценарији упита из стварног света и токови рада  

## 🚀 Шта следи

Спремни за дубље истраживање? Наставите са:

**[Модул 01: Основни концепти архитектуре](../01-Architecture/README.md)**

Научите о шаблонима архитектуре MCP сервера, принципима дизајна базе података и детаљној техничкој имплементацији која покреће наше решење за аналитику малопродаје.

## 📚 Додатни ресурси

### MCP документација
- [MCP Спецификација](https://modelcontextprotocol.io/docs/) - Званична документација протокола
- [MCP за почетнике](https://aka.ms/mcp-for-beginners) - Свеобухватни водич за MCP
- [FastMCP документација](https://github.com/modelcontextprotocol/python-sdk) - Python SDK документација

### Интеграција базе података
- [PostgreSQL документација](https://www.postgresql.org/docs/) - Комплетна референца за PostgreSQL
- [pgvector водич](https://github.com/pgvector/pgvector) - Документација за векторску екстензију
- [Row Level Security](https://www.postgresql.org/docs/current/ddl-rowsecurity.html) - Водич за PostgreSQL RLS

### Azure услуге
- [Azure OpenAI документација](https://docs.microsoft.com/azure/cognitive-services/openai/) - Интеграција AI услуга
- [Azure Database for PostgreSQL](https://docs.microsoft.com/azure/postgresql/) - Управљана база података
- [Azure Container Apps](https://docs.microsoft.com/azure/container-apps/) - Контенери без сервера

---

**Напомена**: Ово је вежба учења која користи измишљене податке о малопродаји. Увек следите политике управљања подацима и безбедности ваше организације приликом имплементације сличних

---

**Одрицање од одговорности**:  
Овај документ је преведен коришћењем услуге за превођење помоћу вештачке интелигенције [Co-op Translator](https://github.com/Azure/co-op-translator). Иако се трудимо да превод буде тачан, молимо вас да имате у виду да аутоматски преводи могу садржати грешке или нетачности. Оригинални документ на његовом изворном језику треба сматрати ауторитативним извором. За критичне информације препоручује се професионални превод од стране људи. Не преузимамо одговорност за било каква погрешна тумачења или неспоразуме који могу произаћи из коришћења овог превода.