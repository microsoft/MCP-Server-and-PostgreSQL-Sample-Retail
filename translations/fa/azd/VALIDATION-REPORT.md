<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "a56e7a3cc7dff699ab9e0b96b35f3917",
  "translation_date": "2025-09-30T12:30:31+00:00",
  "source_file": "azd/VALIDATION-REPORT.md",
  "language_code": "fa"
}
-->
# Azure Developer CLI (azd) - گزارش کامل اعتبارسنجی

## ✅ **وضعیت اعتبارسنجی: همه فایل‌ها با موفقیت اعتبارسنجی شدند**

تمام فایل‌های موجود در پوشه `azd/infra` **کاملاً اعتبارسنجی شده‌اند** و آماده برای استقرار در محیط تولید هستند. اعتبارسنجی نحو، سازگاری پارامترها و پیکربندی محیط به طور کامل بررسی شده است.

---

## 📋 **نتایج اعتبارسنجی فایل به فایل**

### **✅ فایل‌های قالب - همه معتبر**

| فایل | وضعیت | نسخه API | نحو | وابستگی‌ها |
|------|--------|-------------|--------|--------------|
| `main.bicep` | ✅ معتبر | آخرین نسخه | ✅ بدون خطا | ✅ بررسی شده |
| `main-resources.bicep` | ✅ معتبر | 2025-06-01 | ✅ بدون خطا | ✅ بررسی شده |
| `container-app-environment.bicep` | ✅ معتبر | 2023-05-01 | ✅ بدون خطا | ✅ بررسی شده |
| `azuredeploy.json` | ✅ معتبر | 2025-06-01 | ✅ بدون خطا | ✅ بررسی شده |

### **✅ فایل‌های پیکربندی - همه معتبر**

| فایل | وضعیت | فرمت | طرح | محتوا |
|------|--------|--------|--------|---------|
| `azure.yaml` | ✅ معتبر | YAML | ✅ معتبر | ✅ کامل |
| `main.parameters.json` | ✅ معتبر | JSON | ✅ معتبر | ✅ متغیرهای azd |
| `azuredeploy.parameters.json` | ✅ معتبر | JSON | ✅ معتبر | ✅ مقادیر ثابت |
| `.env.local` | ✅ ایجاد شده | ENV | ✅ معتبر | ✅ تنظیمات توسعه |

### **✅ فایل‌های مستندات - همه موجود**

| فایل | وضعیت | هدف | محتوا |
|------|--------|---------|---------|
| `README.md` | ✅ معتبر | راهنمای شروع سریع | ✅ کامل |
| `ARM-DEPLOYMENT.md` | ✅ معتبر | راهنمای استقرار ARM | ✅ کامل |
| `VALIDATION-SUMMARY.md` | ✅ معتبر | اعتبارسنجی اصلی | ✅ کامل |

---

## 🔍 **بررسی‌های اعتبارسنجی دقیق**

### **1. اعتبارسنجی نحو** ✅
- ✅ نحو JSON برای تمام فایل‌های `.json` بررسی شد
- ✅ نحو YAML برای `azure.yaml` بررسی شد
- ✅ نحو Bicep برای تمام فایل‌های `.bicep` بررسی شد
- ✅ انطباق طرح قالب ARM تأیید شد
- ✅ انطباق طرح فایل پارامترها تأیید شد

### **2. سازگاری پارامترها** ✅
- ✅ نگاشت `environmentName` → `${AZURE_ENV_NAME}` تأیید شد
- ✅ نگاشت `location` → `${AZURE_LOCATION}` تأیید شد
- ✅ تمام پارامترهای مورد نیاز در هر دو قالب موجود هستند
- ✅ نوع پارامترها بین فایل‌ها مطابقت دارد
- ✅ مقادیر پیش‌فرض مناسب هستند

### **3. وابستگی‌های قالب** ✅
- ✅ ارجاعات ماژول صحیح هستند
- ✅ وابستگی‌های منابع به درستی تعریف شده‌اند
- ✅ ارجاعات خروجی معتبر هستند
- ✅ نسخه‌های API سازگار هستند
- ✅ کنوانسیون‌های نام‌گذاری منابع یکسان هستند

### **4. یکپارچگی با Azure Developer CLI** ✅
- ✅ اعتبارسنجی طرح `azure.yaml` موفقیت‌آمیز بود
- ✅ تعریف خدمات کامل است
- ✅ نگاشت متغیرهای محیطی تأیید شد
- ✅ پیکربندی Docker بررسی شد
- ✅ قلاب‌های استقرار به درستی پیکربندی شده‌اند

### **5. متغیرهای محیطی** ✅
- ✅ متغیرهای مورد نیاز azd شناسایی شدند
- ✅ خروجی‌های زیرساخت به درستی نگاشت شدند
- ✅ متغیرهای محیطی خدمات پیکربندی شدند
- ✅ متغیرهای اختیاری توسعه مستند شدند
- ✅ فایل محیط محلی ایجاد شد

---

## 🚀 **آمادگی برای استقرار**

### **گزینه 1: Azure Developer CLI** ⭐ **توصیه‌شده**
```bash
# Quick deployment command
cd azd
azd env new myenv
azd env set AZURE_LOCATION westus2
azd up
```

**✅ آماده:** تمام الزامات azd برآورده شده‌اند
- ✅ `azure.yaml` پیکربندی شده است
- ✅ قالب‌های Bicep آماده هستند
- ✅ تعریف خدمات کامل است
- ✅ متغیرهای محیطی نگاشت شده‌اند

### **گزینه 2: استقرار دستی ARM**
```bash
# ARM template deployment
az deployment sub create \
  --location westus2 \
  --template-file infra/azuredeploy.json \
  --parameters @infra/azuredeploy.parameters.json
```

**✅ آماده:** قالب ARM بهبود یافته و اعتبارسنجی شده است
- ✅ آخرین نسخه‌های API (2025-06-01)
- ✅ منابع پروژه AI گنجانده شده‌اند
- ✅ استقرار مدل‌های پیشرفته
- ✅ ساختار متغیر مناسب

---

## 📊 **نمای کلی زیرساخت**

### **منابعی که باید مستقر شوند**
1. **گروه منابع** - `rg-mcpretail-{suffix}`
2. **فضای کاری Log Analytics** - پایه نظارت
3. **Application Insights** - نظارت بر برنامه
4. **خدمات Azure AI** - کارخانه AI با پشتیبانی پروژه
5. **استقرار مدل‌های OpenAI:**
   - GPT-4o-mini (ظرفیت 150)
   - text-embedding-3-small (ظرفیت 50)
6. **محیط برنامه کانتینری** - برای میزبانی سرور MCP

### **استقرار خدمات** (فقط azd)
1. **برنامه کانتینری سرور MCP** - برنامه Python
2. **متغیرهای محیطی** - پیکربندی خودکار از زیرساخت
3. **نظارت بر سلامت** - یکپارچه با Application Insights
4. **پیکربندی مقیاس‌پذیری** - مقیاس‌پذیری خودکار برنامه‌های کانتینری

---

## 🔧 **مرجع متغیرهای محیطی**

### **مدیریت شده توسط azd** (به صورت خودکار پر شده)
```bash
AZURE_ENV_NAME                        # Environment name
AZURE_LOCATION                        # Deployment region  
AZURE_SUBSCRIPTION_ID                 # Azure subscription
AZURE_RESOURCE_GROUP                  # Resource group name
```

### **خروجی‌های زیرساخت** (به صورت خودکار تولید شده)
```bash
AZURE_OPENAI_ENDPOINT                 # AI Services endpoint
AZURE_OPENAI_API_KEY                  # AI Services access key
AZURE_OPENAI_DEPLOYMENT_NAME          # GPT model name
AZURE_OPENAI_EMBEDDING_DEPLOYMENT_NAME # Embedding model name
APPLICATIONINSIGHTS_CONNECTION_STRING  # Monitoring connection
AZURE_CONTAINER_APP_ENVIRONMENT_ID    # Container environment
```

### **پیکربندی برنامه** (از .env.local)
```bash
PORT=8000                             # Application port
DEBUG=true                            # Development mode
LOG_LEVEL=INFO                        # Logging level
POSTGRES_HOST=localhost               # Database host (dev)
```

---

## ⚠️ **نکات مهم**

### **نام‌گذاری منابع**
- قالب ARM از نام‌گذاری ثابت استفاده می‌کند: `rg-mcpretail-demo001`
- قالب Bicep از نام‌گذاری پویا استفاده می‌کند: `rg-{environmentName}`
- هر دو روش معتبر و کاربردی هستند

### **نسخه‌های API**
- تمام قالب‌ها از آخرین نسخه‌های API (2025-06-01) استفاده می‌کنند
- ویژگی‌های پیشرفته خدمات AI فعال شده‌اند
- یکپارچگی مدرن برنامه‌های کانتینری

### **امنیت**
- هویت مدیریت شده برای خدمات AI فعال شده است
- کنترل‌های دسترسی شبکه پیکربندی شده‌اند
- سیاست‌های RAI برای استقرار مدل‌ها اعمال شده‌اند

---

## 🎯 **خلاصه نهایی اعتبارسنجی**

| دسته‌بندی | وضعیت | جزئیات |
|----------|--------|---------|
| **نحو قالب** | ✅ موفق | تمام فایل‌ها از نظر نحوی معتبر هستند |
| **سازگاری پارامترها** | ✅ موفق | پارامترها بین قالب‌ها مطابقت دارند |
| **یکپارچگی azd** | ✅ موفق | سازگاری کامل با azd تأیید شد |
| **متغیرهای محیطی** | ✅ موفق | نگاشت کامل متغیرها |
| **مستندات** | ✅ موفق | تمام راهنماها موجود و دقیق هستند |
| **پیکربندی امنیتی** | ✅ موفق | تنظیمات امنیتی مناسب اعمال شده‌اند |
| **سازگاری API** | ✅ موفق | از آخرین نسخه‌های API استفاده شده است |
| **آمادگی برای استقرار** | ✅ موفق | آماده برای استقرار در محیط تولید |

---

## 🚨 **اعتبارسنجی کامل شد**

**✅ تمام اعتبارسنجی‌ها موفقیت‌آمیز بودند**

پوشه `azd/infra` **کاملاً اعتبارسنجی شده است** و آماده برای استقرار در محیط تولید است. شما می‌توانید با اطمینان از یکی از روش‌های زیر استفاده کنید:

1. **Azure Developer CLI**: `azd up` (توصیه‌شده برای خودکارسازی کامل)
2. **قالب ARM**: استقرار دستی برای کنترل بیشتر

هر دو روش استقرار اعتبارسنجی شده و آماده استفاده هستند.

---

*اعتبارسنجی انجام شده در: 30 سپتامبر 2025*  
*تعداد فایل‌های بررسی شده: 11 فایل*  
*نتیجه اعتبارسنجی: ✅ موفقیت‌آمیز*

---

**سلب مسئولیت**:  
این سند با استفاده از سرویس ترجمه هوش مصنوعی [Co-op Translator](https://github.com/Azure/co-op-translator) ترجمه شده است. در حالی که ما تلاش می‌کنیم دقت را حفظ کنیم، لطفاً توجه داشته باشید که ترجمه‌های خودکار ممکن است شامل خطاها یا نادرستی‌ها باشند. سند اصلی به زبان اصلی آن باید به عنوان منبع معتبر در نظر گرفته شود. برای اطلاعات حساس، توصیه می‌شود از ترجمه حرفه‌ای انسانی استفاده کنید. ما مسئولیتی در قبال سوء تفاهم‌ها یا تفسیرهای نادرست ناشی از استفاده از این ترجمه نداریم.