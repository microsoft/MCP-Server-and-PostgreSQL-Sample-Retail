<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "c86955fe1dbaafcb4540d8875649e2f5",
  "translation_date": "2025-09-29T20:35:05+00:00",
  "source_file": "Sample_Walkthrough.md",
  "language_code": "pa"
}
-->
# MCP ри╕ри░ри╡ри░ риЕридрйЗ PostgreSQL риириорйВриири╛ - рикрйВри░рйА риЧри╛риИриб

## ри╕рйВриЪрйА
1. [риЬри╛риг-рикриЫри╛риг](../..)
2. [риЖри░риХрйАриЯрйИриХриЪри░ рижрйА ри╡ри┐ри╕ридри╛ри░ риири╛ри▓ ри╕риориЭ](../..)
3. [ри╣рй▒ри▓ римригри╛риЙригри╛](../..)
4. [риШриЯриХри╛риВ рижрйА ри╡ри┐ри╕ридри╛ри░](../..)
5. [рибри┐рикри▓рйМриЗриорйИриВриЯ риЧри╛риИриб](../..)
6. [ри╣рй▒ри▓ рижрйА ри╡ри░ридрйЛриВ](../..)
7. [риЙрй▒риЪ-ри╕ридрйНри╣ри╛ ри╡ри┐ри╕ри╝рйЗри╕ри╝ридри╛ри╡ри╛риВ](../..)
8. [риори╕ри▓рйЗ ри╣рй▒ри▓](../..)
9. [ри╕ри░ри╡рйЛридрио риЕринри┐риЖри╕](../..)

## риЬри╛риг-рикриЫри╛риг

риЗри╣ риЧри╛риИриб рижри┐риЦри╛риЙриВрижрйА ри╣рйИ риХри┐ **Model Context Protocol (MCP) ри╕ри░ри╡ри░** риирйВрй░ PostgreSQL риЕридрйЗ Azure AI ри╕рйЗри╡ри╛ри╡ри╛риВ риири╛ри▓ риХри┐ри╡рйЗриВ риЬрйЛрйЬри┐риЖ риЬри╛ ри╕риХрижри╛ ри╣рйИред риЗри╣ риириорйВриири╛ риЙрижрипрйЛриЧ-рикрй▒ризри░ рижрйЗ рикрйИриЯри░риири╛риВ риирйВрй░ рижри░ри╕ри╛риЙриВрижри╛ ри╣рйИ риЬри┐ри╡рйЗриВ риХри┐ Row Level Security, semantic search, риЕридрйЗ multi-tenant рибри╛риЯри╛ риРриХри╕рйИри╕ред

### ридрйБри╕рйАриВ риХрйА ри╕ри┐рй▒риЦрйЛриЧрйЗ
- MCP ри╕ри░ри╡ри░ риирйВрй░ рибри╛риЯри╛римрйЗри╕ риЗрй░риЯрйАриЧрйНри░рйЗри╕ри╝рии риири╛ри▓ риХри┐ри╡рйЗриВ рибри┐риЬри╝ри╛риИрии риХри░риири╛ ри╣рйИ
- Multi-tenant ри╕риери┐ридрйАриЖриВ ри▓риИ Row Level Security ри▓ри╛риЧрйВ риХри░риири╛
- Azure OpenAI embeddings риири╛ри▓ semantic search римригри╛риЙригри╛
- Docker-риЕризри╛ри░ри┐рид ри╡ри┐риХри╛ри╕ ри╡ри╛ридри╛ри╡ри░риг римригри╛риЙригри╛
- Bicep риЯрйИриВрикри▓рйЗриЯри╛риВ риири╛ри▓ Azure риЗрй░рилрйНри░ри╛ри╕риЯри░риХриЪри░ рибри┐рикри▓рйМриЗ риХри░риири╛
- VS Code риири╛ри▓ AI-риЪри╛ри▓рид ри╡ри┐ри╕ри╝ри▓рйЗри╕ри╝риг риирйВрй░ риЬрйЛрйЬриири╛

### ри╡ри░ридрйАриЖриВ риЧриИриЖриВ ридриХриири╛ри▓рйЛриЬрйАриЖриВ
- **MCP Protocol**: AI риЯрйВри▓ риЗрй░риЯрйАриЧрйНри░рйЗри╕ри╝рии ри▓риИ Model Context Protocol
- **FastMCP**: риЖризрйБриири┐риХ Python MCP ри╕ри░ри╡ри░ рилри░рйЗриори╡ри░риХ
- **PostgreSQL**: pgvector риРриХри╕риЯрйИриВри╕ри╝рии риири╛ри▓ semantic search ри▓риИ рибри╛риЯри╛римрйЗри╕
- **Azure OpenAI**: риЯрйИриХри╕риЯ embeddings риЕридрйЗ GPT риори╛рибри▓ (ри╡ри┐риХри▓рикри┐риХ)
- **Docker**: ри╕риери┐ри░ ри╡ри╛ридри╛ри╡ри░риг ри▓риИ риХрй░риЯрйЗриири░ри╛риИриЬри╝рйЗри╕ри╝рии
- **Bicep**: Azure ри╕ри░рйЛридри╛риВ ри▓риИ Infrastructure as Code
- **VS Code**: MCP риЗрй░риЯрйАриЧрйНри░рйЗри╕ри╝рии риири╛ри▓ ри╡ри┐риХри╛ри╕ ри╡ри╛ридри╛ри╡ри░риг

## ЁЯУЪ ри╕рй░ри░риЪри┐рид ри╕ри┐рй▒риЦриг риЧри╛риИриб: /walkthrough

риЗри╕ ридриХриирйАриХрйА риЧри╛риИриб рижрйЗ риири╛ри▓, риЗри╕ ри░ри┐рикрйЛриЬри╝риЯри░рйА ри╡ри┐рй▒риЪ `/walkthrough` рибри╛риЗри░рйИриХриЯри░рйА ри╡ри┐рй▒риЪ риЗрй▒риХ ри╡ри┐ри╕ридрйНри░ри┐рид **12-риори╛рибри┐риКри▓ ри╕ри┐рй▒риЦриг риЧри╛риИриб** ри╕ри╝ри╛риори▓ ри╣рйИред риЗри╣ ри╕рй░ри░риЪри┐рид рикри╣рйБрй░риЪ риЬриЯри┐ри▓ ри▓ри╛риЧрйВриХри░рии риирйВрй░ ри╕рйМриЦрйЗ ри╕ри┐рй▒риЦриг риори╛рибри┐риКри▓ри╛риВ ри╡ри┐рй▒риЪ ри╡рй░рибрижрйА ри╣рйИ, риЬрйЛ ри╡ри┐риХри╛ри╕риХри╛ри░ри╛риВ ри▓риИ ри╣ри░ риШриЯриХ риирйВрй░ риХрижрио-рижри░-риХрижрио ри╕риориЭриг ри▓риИ римри╣рйБрид ри╣рйА риЙрикрипрйЛриЧ ри╣рйИред

### ри╕ри┐рй▒риЦриг риори╛рибри┐риКри▓ри╛риВ рижрйА риЭри▓риХ

| риори╛рибри┐риКри▓ | ри╡ри┐ри╕ри╝ри╛ | рилрйЛриХри╕ | ри╕риори╛риВ |
|--------|-------|-------|----------|
| **[00-Introduction](walkthrough/00-Introduction/README.md)** | MCP риорйВри▓ ринрйВрид | риорйБрй▒риЦ ризри╛ри░риири╛ри╡ри╛риВ, Zava Retail риХрйЗри╕ ри╕риЯрибрйА, риЖри░риХрйАриЯрйИриХриЪри░ риЭри▓риХ | 30 риори┐рй░риЯ |
| **[01-Architecture](walkthrough/01-Architecture/README.md)** | ри╕ри┐ри╕риЯрио рибри┐риЬри╝ри╛риИрии | ридриХриирйАриХрйА риЖри░риХрйАриЯрйИриХриЪри░, рибри┐риЬри╝ри╛риИрии рикрйИриЯри░рии, риШриЯриХри╛риВ рижрйЗ ри╕рй░римрй░риз | 45 риори┐рй░риЯ |
| **[02-Security](walkthrough/02-Security/README.md)** | риЙрижрипрйЛриЧ ри╕рйБри░рй▒риЦри┐риЖ | Azure рикрйНри░риори╛ригри┐риХридри╛, Row Level Security, multi-tenant isolation | 60 риори┐рй░риЯ |
| **[03-Setup](walkthrough/03-Setup/README.md)** | ри╡ри╛ридри╛ри╡ри░риг ри╕рйИриЯриЕрй▒рик | Docker ри╕рй░ри░риЪриири╛, Azure CLI, рикрйНри░рйЛриЬрйИриХриЯ ри╕ри╝рйБри░рйВриЖрид | 45 риори┐рй░риЯ |
| **[04-Database](walkthrough/04-Database/README.md)** | рибри╛риЯри╛ ри▓рйЗриЕри░ | PostgreSQL schema, pgvector ри╕рйИриЯриЕрй▒рик, RLS риирйАридрйАриЖриВ, риириорйВриири╛ рибри╛риЯри╛ | 60 риори┐рй░риЯ |
| **[05-MCP-Server](walkthrough/05-MCP-Server/README.md)** | риорйБрй▒риЦ ри▓ри╛риЧрйВриХри░рии | FastMCP рилри░рйЗриори╡ри░риХ, рибри╛риЯри╛римрйЗри╕ риЗрй░риЯрйАриЧрйНри░рйЗри╕ри╝рии, риЯрйВри▓ ри╡ри┐риХри╛ри╕ | 90 риори┐рй░риЯ |
| **[06-Tools](walkthrough/06-Tools/README.md)** | риЯрйВри▓ ри╡ри┐риХри╛ри╕ | MCP риЯрйВри▓ римригри╛риЙригри╛, риХри╡рйИри░рйА ри╡рйИри░рйАрилри┐риХрйЗри╕ри╝рии, римри┐риЬри╝риири╕ риЗрй░риЯрйИри▓рйАриЬрйИриВри╕ | 75 риори┐рй░риЯ |
| **[07-Semantic-Search](walkthrough/07-Semantic-Search/README.md)** | AI риЗрй░риЯрйАриЧрйНри░рйЗри╕ри╝рии | Azure OpenAI embeddings, vector search, hybrid queries | 60 риори┐рй░риЯ |
| **[08-Testing](walkthrough/08-Testing/README.md)** | риЧрйБригри╡рй▒ридри╛ риЕри╕ри╝ри╡ри╛ри╕рии | риЯрйИри╕риЯри┐рй░риЧ ри░ригриирйАридрйАриЖриВ, рибрйАримрй▒риЧри┐рй░риЧ ридриХриирйАриХри╛риВ, рикрйНри░рижри░ри╕ри╝рии риЯрйИри╕риЯри┐рй░риЧ | 75 риори┐рй░риЯ |
| **[09-VS-Code](walkthrough/09-VS-Code/README.md)** | ри╡ри┐риХри╛ри╕ риЕриирйБринри╡ | VS Code ри╕рй░ри░риЪриири╛, AI Chat риЗрй░риЯрйАриЧрйНри░рйЗри╕ри╝рии, рибрйАримрй▒риЧри┐рй░риЧ ри╡ри░риХрилри▓рйЛ | 45 риори┐рй░риЯ |
| **[10-Deployment](walkthrough/10-Deployment/README.md)** | рикрйНри░рйЛрибриХри╕ри╝рии рибри┐рикри▓рйМриЗриорйИриВриЯ | риХрй░риЯрйЗриири░ри╛риИриЬри╝рйЗри╕ри╝рии, Azure Container Apps, CI/CD pipelines | 90 риори┐рй░риЯ |
| **[11-Monitoring](walkthrough/11-Monitoring/README.md)** | риири┐риЧри░ри╛риирйА | Application Insights, ри╕рй░ри░риЪри┐рид ри▓рйМриЧри┐рй░риЧ, рикрйНри░рижри░ри╕ри╝рии риорйИриЯрйНри░ри┐риХри╕ | 60 риори┐рй░риЯ |
| **[12-Best-Practices](walkthrough/12-Best-Practices/README.md)** | рикрйНри░рйЛрибриХри╕ри╝рии ри╕ри╝рйНри░рйЗри╕ри╝риаридри╛ | ри╕рйБри░рй▒риЦри┐риЖ риориЬри╝римрйВридрйА, риЕрикриЯри╛риИриори╛риИриЬри╝рйЗри╕ри╝рии, риЙрижрипрйЛриЧ рикрйИриЯри░рии | 45 риори┐рй░риЯ |

### ри╕ри┐рй▒риЦриг риЧри╛риИриб рижрйА ри╡ри░ридрйЛриВ риХри┐ри╡рйЗриВ риХри░риирйА ри╣рйИ

**ЁЯУЦ ри╕ри┐рй▒риЦриг ри▓риИ**: `/walkthrough` риори╛рибри┐риКри▓ риХрижрио-рижри░-риХрижрио ри╣рижри╛риЗридри╛риВ рикрйНри░рижри╛рии риХри░рижрйЗ ри╣рии риЕридрйЗ ри╣ри░ риШриЯриХ риХри┐ри╡рйЗриВ рибри┐риЬри╝ри╛риИрии риХрйАридри╛ риЧри┐риЖ ри╣рйИ риЗри╕ рижрйА ри╡риЬрйНри╣ри╛ ри╡рйА ри╕риориЭри╛риЙриВрижрйЗ ри╣рииред риори╛рибри┐риКри▓ 00 риири╛ри▓ ри╕ри╝рйБри░рйВ риХри░рйЛ риЕридрйЗ ри▓риЧри╛ридри╛ри░ риЕриЧрйЗ ри╡ризрйЛред

**ЁЯФз ри▓ри╛риЧрйВриХри░рии ри▓риИ**: риЗри╣ Sample_Walkthrough.md ри╡ри┐риХри╛ри╕риХри╛ри░ри╛риВ ри▓риИ ридриХриирйАриХрйА ри╡ри┐ри╕ридри╛ри░ риЕридрйЗ риХрйЛриб ри╡ри┐ри╕ри╝ри▓рйЗри╕ри╝риг рикрйНри░рижри╛рии риХри░рижри╛ ри╣рйИ риЬрйЛ рикрйВри░рйЗ ри▓ри╛риЧрйВриХри░рии риирйВрй░ ридрйЗриЬри╝рйА риири╛ри▓ ри╕риориЭригри╛ риЪри╛ри╣рйБрй░рижрйЗ ри╣рииред

**ЁЯЪА рикрйНри░рйЛрибриХри╕ри╝рии ри▓риИ**: риори╛рибри┐риКри▓ 02, 10, 11, риЕридрйЗ 12 риЦри╛ри╕ ридрйМри░ 'ридрйЗ рикрйНри░рйЛрибриХри╕ри╝рии-ридри┐риЖри░ рибри┐рикри▓рйМриЗриорйИриВриЯ, ри╕рйБри░рй▒риЦри┐риЖ, риЕридрйЗ риири┐риЧри░ри╛риирйА ри╡ри┐риЪри╛ри░ри╛риВ 'ридрйЗ ризри┐риЖрии риХрйЗриВрижри░ри┐рид риХри░рижрйЗ ри╣рииред

**ЁЯУЪ рикрйВри░рйА ри╕ри┐рй▒риЦриг рикри╛рие**: ри╡ри┐ри╕ри╝рйЗри╕ри╝ ри╕ри┐рй▒риЦриг риЙрижрйЗри╕ри╝ри╛риВ риЕридрйЗ рикрйВри░ри╡ ри╕ри╝ри░ридри╛риВ рижрйЗ риири╛ри▓ рикрйВри░рйА ри╕ри┐рй▒риЦриг риЧри╛риИриб риЭри▓риХ ри▓риИ **[/walkthrough/README.md](walkthrough/README.md)** 'ридрйЗ риЬри╛риУред

---

## риЖри░риХрйАриЯрйИриХриЪри░ рижрйА ри╡ри┐ри╕ридри╛ри░ риири╛ри▓ ри╕риориЭ

### риЙрй▒риЪ-ри╕ридрйНри╣ри╛ риЖри░риХрйАриЯрйИриХриЪри░

```
тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР    тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
тФВ   VS Code AI    тФВ    тФВ   MCP Server    тФВ    тФВ   PostgreSQL    тФВ
тФВ     Client      тФВтЧДтФАтФАтЦ║тФВ  (FastMCP)      тФВтЧДтФАтФАтЦ║тФВ   + pgvector    тФВ
тФВ                 тФВ    тФВ                 тФВ    тФВ                 тФВ
тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ    тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
                                тФВ
                                тЦ╝
                       тФМтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФР
                       тФВ  Azure OpenAI   тФВ
                       тФВ   Embeddings    тФВ
                       тФФтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФАтФШ
```

### риорйБрй▒риЦ риШриЯриХ

#### 1. **MCP ри╕ри░ри╡ри░ (`sales_analysis.py`)**
- **FastMCP Framework**: HTTP/SSE рикрйНри░рйЛриЯрйЛриХрйЛри▓ ри╕рй░риЪри╛ри░ риирйВрй░ ри╕рй░ринри╛ри▓рижри╛ ри╣рйИ
- **Tool Registration**: рибри╛риЯри╛римрйЗри╕ риХри╡рйИри░рйА риЕридрйЗ schema риЯрйВри▓ рикрйНри░рижри╛рии риХри░рижри╛ ри╣рйИ
- **Request Context**: RLS рипрйВриЬри╝ри░ рикриЫри╛риг риирйВрй░ ри╕рй░ринри╛ри▓рижри╛ ри╣рйИ
- **Error Handling**: риориЬри╝римрйВрид риЧри▓ридрйА рикрйНри░римрй░ризрии риЕридрйЗ ри▓рйМриЧри┐рй░риЧ

#### 2. **рибри╛риЯри╛римрйЗри╕ ри▓рйЗриЕри░ (`sales_analysis_postgres.py`)**
- **Connection Pooling**: риХрйБри╕ри╝ри▓ asyncpg риХриирйИриХри╕ри╝рии рикрйНри░римрй░ризрии
- **Schema Provider**: риЧридрйАри╕ри╝рйАри▓ риЯрйЗримри▓ schema риЦрйЛриЬ
- **Query Execution**: RLS риири╛ри▓ ри╕рйБри░рй▒риЦри┐риЕрид SQL ри▓ри╛риЧрйВриХри░рии
- **Semantic Search**: pgvector риири╛ри▓ vector similarity search

#### 3. **Configuration Management (`config.py`)**
- **Environment Variables**: риХрйЗриВрижри░рйАриХрйНри░ри┐рид ри╕рй░ри░риЪриири╛ рикрйНри░римрй░ризрии
- **Connection Parameters**: рибри╛риЯри╛римрйЗри╕ риЕридрйЗ Azure ри╕рйЗри╡ри╛ ри╕рй░ри░риЪриири╛
- **Validation**: ри▓рйЛрйЬрйАриВрижрйЗ environment variable рижрйА риЬри╛риВриЪ

#### 4. **Infrastructure (`infra/`)**
- **Bicep Templates**: Azure ри╕ри░рйЛридри╛риВ рижрйА риШрйЛри╕ри╝ригри╛
- **Model Deployment**: AI риори╛рибри▓ рижрйА ри╕ри╡рйИриЪри╛ри▓ри┐рид рибри┐рикри▓рйМриЗриорйИриВриЯ
- **Role Assignments**: ри╕рйБри░рй▒риЦри┐риЖ ринрйВриори┐риХри╛ ри╕рй░ри░риЪриири╛

### рибри╛риЯри╛ рилри▓рйЛ

```
1. VS Code AI Client sends query
2. MCP Server receives request with RLS headers
3. Server extracts user identity and sets context
4. Database queries execute with RLS filtering
5. Results return through MCP protocol
6. AI Client processes structured response
```

---

## ри╣рй▒ри▓ римригри╛риЙригри╛

### риХрижрио 1: рикрйНри░рйЛриЬрйИриХриЯ ри╕рй░ри░риЪриири╛ ри╕рйИриЯриЕрй▒рик

```
project/
тФЬтФАтФА mcp_server/              # MCP server implementation
тФВ   тФЬтФАтФА __init__.py         # Package initialization
тФВ   тФЬтФАтФА sales_analysis.py   # Main MCP server
тФВ   тФЬтФАтФА sales_analysis_postgres.py  # Database layer
тФВ   тФЬтФАтФА sales_analysis_text_embeddings.py  # Semantic search
тФВ   тФФтФАтФА config.py           # Configuration management
тФЬтФАтФА infra/                  # Infrastructure as Code
тФВ   тФЬтФАтФА main.bicep          # Main deployment template
тФВ   тФЬтФАтФА foundry.bicep       # Azure AI Foundry setup
тФВ   тФЬтФАтФА deploy.ps1          # Windows deployment script
тФВ   тФФтФАтФА deploy.sh           # Unix deployment script
тФЬтФАтФА data/                   # Database backup and initialization
тФЬтФАтФА docker-init/            # Database initialization scripts
тФЬтФАтФА .vscode/                # VS Code MCP configuration
тФЬтФАтФА docker-compose.yml      # Development environment
тФЬтФАтФА Dockerfile             # MCP server container
тФФтФАтФА requirements.lock.txt   # Python dependencies
```

### риХрижрио 2: риорйБрй▒риЦ Dependencies

**Python Requirements:**
```python
# MCP Framework
mcp[server]>=0.5.0
fastmcp>=0.4.0

# Database Integration
asyncpg>=0.29.0
asyncio-rlock>=0.3.0

# Azure Integration
azure-ai-projects>=1.0.0
azure-identity>=1.19.0
azure-monitor-opentelemetry>=1.7.0

# Data Processing
pydantic>=2.9.0
numpy>=1.24.0

# Development
python-dotenv>=1.0.0
```

**ри╕ри┐ри╕риЯрио Requirements:**
- Docker Desktop риХрй░риЯрйЗриири░ри╛риИриЬри╝рйЗри╕ри╝рии ри▓риИ
- Azure CLI рибри┐рикри▓рйМриЗриорйИриВриЯ ри▓риИ
- PostgreSQL pgvector риРриХри╕риЯрйИриВри╕ри╝рии риири╛ри▓
- VS Code AI риРриХри╕риЯрйИриВри╕ри╝рии риири╛ри▓

### риХрижрио 3: рибри╛риЯри╛римрйЗри╕ schema рибри┐риЬри╝ри╛риИрии

риириорйВриири╛ риЗрй▒риХ ри░ри┐риЯрйЗри▓ рибри╛риЯри╛римрйЗри╕ ри╡ри░ридрижри╛ ри╣рйИ риЬри┐ри╕ ри╡ри┐рй▒риЪ риЗри╣ риорйБрй▒риЦ риЯрйЗримри▓ ри╣рии:

```sql
-- Core business entities
retail.stores          -- Store locations and metadata
retail.customers       -- Customer profiles
retail.categories      -- Product categorization
retail.product_types   -- Product type definitions
retail.products        -- Product catalog
retail.orders          -- Customer orders
retail.order_items     -- Order line items
retail.inventory       -- Stock levels

-- Semantic search support
retail.product_description_embeddings  -- Vector embeddings for products
```

**Row Level Security (RLS) ри▓ри╛риЧрйВриХри░рии:**
```sql
-- Enable RLS on tables
ALTER TABLE retail.orders ENABLE ROW LEVEL SECURITY;
ALTER TABLE retail.customers ENABLE ROW LEVEL SECURITY;

-- Create policies based on store association
CREATE POLICY store_policy ON retail.orders
  FOR ALL TO PUBLIC
  USING (store_id = get_user_store_id());
```

---

## риШриЯриХри╛риВ рижрйА ри╡ри┐ри╕ридри╛ри░

### MCP ри╕ри░ри╡ри░ риХрйЛри░ (`sales_analysis.py`)

#### Tool Registration Pattern
```python
@mcp.tool()
async def execute_sales_query(
    ctx: Context,
    postgresql_query: Annotated[str, Field(description="A well-formed PostgreSQL query.")],
) -> str:
    """Execute PostgreSQL queries with Row Level Security."""
    rls_user_id = get_rls_user_id(ctx)
    
    try:
        return await db_provider.execute_query(
            postgresql_query, rls_user_id=rls_user_id
        )
    except Exception as e:
        logger.error("Error executing database query: %s", e)
        return f"Error executing database query: {e!s}"
```

**риорйБрй▒риЦ ри╡ри┐ри╕ри╝рйЗри╕ри╝ридри╛ри╡ри╛риВ:**
- **Type Annotations**: Pydantic рилрйАри▓риб ри╡ри░ригрии AI ри╕риориЭриг ри▓риИ
- **Context Extraction**: HTTP headers ридрйЛриВ рипрйВриЬри╝ри░ рикриЫри╛риг
- **Error Handling**: ри╕рйВриЪриири╛ридриориХ ри╕рйБриирйЗри╣ри┐риЖриВ риири╛ри▓ ри╕рйБриЧрио рилрйЗри▓
- **Logging**: ри╡ри┐ри╕ридрйНри░ри┐рид риХри╛ри░ри╡ри╛риИ ри▓рйМриЧри┐рй░риЧ

#### Request Context Management
```python
def get_rls_user_id(ctx: Context) -> str:
    """Extract Row Level Security User ID from request context."""
    rls_user_id = get_header(ctx, "x-rls-user-id")
    if rls_user_id is None:
        # Default to placeholder if not provided
        rls_user_id = "00000000-0000-0000-0000-000000000000"
    return rls_user_id
```

### рибри╛риЯри╛римрйЗри╕ ри▓рйЗриЕри░ (`sales_analysis_postgres.py`)

#### Connection Pool Management
```python
class PostgreSQLSchemaProvider:
    async def create_pool(self) -> None:
        """Create connection pool for better resource management."""
        if self.connection_pool is None:
            config_copy = dict(self.postgres_config)
            existing_server_settings = config_copy.pop("server_settings", {})
            
            merged_server_settings = {
                **existing_server_settings,
                "jit": "off",  # Disable JIT to reduce memory usage
                "work_mem": "4MB",  # Limit work memory per query
                "statement_timeout": "30s",  # 30 second statement timeout
            }
            
            self.connection_pool = await asyncpg.create_pool(
                **config_copy,
                min_size=1,
                max_size=3,  # Conservative pool size
                command_timeout=30,
                server_settings=merged_server_settings,
            )
```

**рибри┐риЬри╝ри╛риИрии рикрйИриЯри░рии:**
- **Resource Management**: рикрйВри▓ lifecycle рижри╛ ри╕ри╣рйА рикрйНри░римрй░ризрии
- **Performance Tuning**: PostgreSQL ри╕рйИриЯри┐рй░риЧри╛риВ рижри╛ риЕрикриЯри╛риИриори╛риИриЬри╝рйЗри╕ри╝рии
- **Error Recovery**: риХриирйИриХри╕ри╝рии retry риЕридрйЗ fallback ри▓рйМриЬри┐риХ
- **Security**: RLS context ри╕рйИриЯри┐рй░риЧ рикрйНри░ридрйА риХриирйИриХри╕ри╝рии

#### Schema Introspection
```python
async def get_table_schema(self, table_name: str, rls_user_id: str) -> Dict[str, Any]:
    """Return comprehensive schema information for a table."""
    conn = await self.get_connection()
    
    # Set RLS context
    await conn.execute(
        "SELECT set_config('app.current_rls_user_id', $1, false)", 
        rls_user_id
    )
    
    # Get column information
    columns = await conn.fetch("""
        SELECT column_name, data_type, is_nullable, column_default
        FROM information_schema.columns 
        WHERE table_schema = $1 AND table_name = $2
        ORDER BY ordinal_position
    """, schema_name, table_name)
    
    # Get foreign key relationships
    foreign_keys = await conn.fetch("""
        SELECT kcu.column_name, ccu.table_name AS foreign_table_name
        FROM information_schema.table_constraints tc
        JOIN information_schema.key_column_usage kcu ON ...
    """)
```

### Semantic Search Integration

#### Embedding Generation
```python
class SemanticSearchTextEmbedding:
    def generate_query_embedding(self, query: str) -> Optional[List[float]]:
        """Generate embeddings using Azure OpenAI."""
        try:
            response = self.client.embeddings.create(
                input=[query],
                model=self.deployment_name
            )
            return response.data[0].embedding
        except Exception as e:
            logger.error("Embedding generation failed: %s", e)
            return None
```

#### Vector Similarity Search
```python
async def search_products_by_similarity(
    self,
    query_embedding: List[float],
    rls_user_id: str,
    max_rows: int = 20,
    similarity_threshold: float = 30.0,
) -> str:
    """Search products using pgvector cosine similarity."""
    
    # Convert similarity percentage to distance threshold
    distance_threshold = 1.0 - (similarity_threshold / 100.0)
    
    query = f"""
        SELECT p.*, (pde.description_embedding <=> $1::vector) as distance
        FROM {SCHEMA_NAME}.product_description_embeddings pde
        JOIN {SCHEMA_NAME}.products p ON pde.product_id = p.product_id
        WHERE (pde.description_embedding <=> $1::vector) <= $3
        ORDER BY distance
        LIMIT $2
    """
    
    rows = await conn.fetch(query, embedding_str, max_rows, distance_threshold)
```

---

## рибри┐рикри▓рйМриЗриорйИриВриЯ риЧри╛риИриб

### Azure Infrastructure Deployment

#### 1. **Bicep Template Structure**

**Main Template (`main.bicep`):**
```bicep
targetScope = 'subscription'

// Core parameters
param resourcePrefix string
param location string
param models array = [
  {
    name: 'text-embedding-3-small'
    format: 'OpenAI'
    version: '1'
    capacity: 50
  }
]

// Deploy foundry and project resources
module foundry 'foundry.bicep' = {
  name: 'foundry-account-deployment'
  scope: rg
  params: {
    foundryResourceName: foundryResourceName
    location: location
  }
}

module foundryProject 'foundry-project.bicep' = {
  name: 'foundry-project-deployment'
  scope: rg
  dependsOn: [foundry]
  params: {
    foundryResourceName: foundry.outputs.accountName
    aiProjectName: aiProjectName
  }
}
```

#### 2. **Deployment Automation**

**PowerShell Deployment (`deploy.ps1`):**
```powershell
# Generate unique suffix for resources
$UNIQUE_SUFFIX = -join ((97..122) + (48..57) | Get-Random -Count 4 | ForEach-Object { [char]$_ })

# Deploy Azure resources
az deployment sub create `
  --name "$DEPLOYMENT_NAME" `
  --location "$RG_LOCATION" `
  --template-file main.bicep `
  --parameters location="$RG_LOCATION" `
  --parameters resourcePrefix="$RESOURCE_PREFIX" `
  --parameters uniqueSuffix="$UNIQUE_SUFFIX" `
  --parameters models="$modelsJson"

# Create service principal for authentication
$spResult = az ad sp create-for-rbac `
    --name "zava-mcp-server-sp" `
    --role "Cognitive Services OpenAI User" `
    --scopes "/subscriptions/$SubId/resourceGroups/$RESOURCE_GROUP_NAME"

# Generate .env file with configuration
@"
PROJECT_ENDPOINT=$PROJECTS_ENDPOINT
AZURE_OPENAI_ENDPOINT=$AZURE_OPENAI_ENDPOINT
EMBEDDING_MODEL_DEPLOYMENT_NAME="text-embedding-3-small"
AZURE_CLIENT_ID=$clientId
AZURE_CLIENT_SECRET=$clientSecret
AZURE_TENANT_ID=$tenantId
"@ | Out-File -FilePath "../.env"
```

### ри╕риери╛риириХ ри╡ри┐риХри╛ри╕ ри╕рйИриЯриЕрй▒рик

#### 1. **Docker Compose Configuration**
```yaml
# docker-compose.yml
version: '3.8'
services:
  postgres:
    image: pgvector/pgvector:pg17
    environment:
      - POSTGRES_INITDB_ARGS=--auth-host=scram-sha-256
    volumes:
      - ./data:/backup_data:ro
      - ./docker-init:/docker-entrypoint-initdb.d:ro
    ports:
      - "5432:5432"
    healthcheck:
      test: ["CMD-SHELL", "pg_isready -U postgres -d zava"]
      interval: 15s
      retries: 5

  mcp_server:
    build: .
    depends_on:
      postgres:
        condition: service_healthy
    ports:
      - "8000:8000"
    env_file:
      - .env
```

#### 2. **рибри╛риЯри╛римрйЗри╕ Initialization**
```bash
# docker-init/init-db.sh
#!/bin/bash
set -e

# Create extensions
psql -v ON_ERROR_STOP=1 --username "$POSTGRES_USER" --dbname "$POSTGRES_DB" <<-EOSQL
    CREATE EXTENSION IF NOT EXISTS vector;
    CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
EOSQL

# Restore database backup
if [ -f /backup_data/zava_retail_2025_07_21_postgres_rls.backup ]; then
    pg_restore --username "$POSTGRES_USER" --dbname "$POSTGRES_DB" \
               --verbose --clean --no-acl --no-owner \
               /backup_data/zava_retail_2025_07_21_postgres_rls.backup
fi
```

---

## ри╣рй▒ри▓ рижрйА ри╡ри░ридрйЛриВ

### VS Code Integration

#### 1. **MCP Configuration (`.vscode/mcp.json`)**
```json
{
    "servers": {
        "zava-sales-analysis-headoffice": {
            "url": "http://127.0.0.1:8000/mcp",
            "type": "http",
            "headers": {"x-rls-user-id": "00000000-0000-0000-0000-000000000000"}
        },
        "zava-sales-analysis-seattle": {
            "url": "http://127.0.0.1:8000/mcp",
            "type": "http", 
            "headers": {"x-rls-user-id": "f47ac10b-58cc-4372-a567-0e02b2c3d479"}
        }
    }
}
```

#### 2. **риХри╡рйИри░рйА Examples**

**Schema Discovery:**
```
AI: #zava What tables are available in the database?
```
*MCP ри╕ри░ри╡ри░ `get_multiple_table_schemas` ри╡ри░ридрижри╛ ри╣рйИ риЯрйЗримри▓ ри╕рй░ри░риЪриири╛ри╡ри╛риВ ри╡ри╛рикри╕ риХри░рии ри▓риИ*

**Sales Analysis:**
```
AI: #zava Show me the top 10 products by revenue last quarter
```
*ри╕ри╣рйА joins риЕридрйЗ date filtering риири╛ри▓ SQL римригри╛риЙриВрижри╛ ри╣рйИ*

**Semantic Search:**
```
AI: #zava Find products similar to "waterproof electrical connectors"
```
*Embeddings ри╡ри░рид риХрйЗ semantically similar products ри▓рй▒ринрижри╛ ри╣рйИ*

**Multi-Store Analysis:**
```
# Switch to Seattle store manager context
AI: #zava-seattle What are our best-selling categories this month?
```
*RLS ри╕ри┐ри░рил Seattle store рибри╛риЯри╛ ридрй▒риХ рикри╣рйБрй░риЪ риприХрйАриирйА римригри╛риЙриВрижри╛ ри╣рйИ*

### риЙрй▒риЪ-ри╕ридрйНри╣ри╛ риХри╡рйИри░рйА рикрйИриЯри░рии

#### 1. **Time-Series Analysis**
```sql
-- Generated by AI through MCP server
SELECT 
    DATE_TRUNC('month', o.order_date) as month,
    SUM(oi.total_amount) as revenue,
    COUNT(DISTINCT o.order_id) as order_count
FROM retail.orders o
JOIN retail.order_items oi ON o.order_id = oi.order_id
WHERE o.order_date >= CURRENT_DATE - INTERVAL '12 months'
GROUP BY DATE_TRUNC('month', o.order_date)
ORDER BY month;
```

#### 2. **Product Performance with Categories**
```sql
-- AI generates complex joins using schema information
SELECT 
    c.category_name,
    pt.type_name,
    COUNT(DISTINCT p.product_id) as product_count,
    SUM(oi.total_amount) as total_revenue,
    AVG(oi.unit_price) as avg_price
FROM retail.products p
JOIN retail.categories c ON p.category_id = c.category_id
JOIN retail.product_types pt ON p.product_type_id = pt.product_type_id
JOIN retail.order_items oi ON p.product_id = oi.product_id
GROUP BY c.category_name, pt.type_name
ORDER BY total_revenue DESC;
```

---

## риЙрй▒риЪ-ри╕ридрйНри╣ри╛ ри╡ри┐ри╕ри╝рйЗри╕ри╝ридри╛ри╡ри╛риВ

### Row Level Security ри▓ри╛риЧрйВриХри░рии

#### 1. **Policy Creation**
```sql
-- Store-based access control
CREATE POLICY customer_store_policy ON retail.customers
  FOR ALL TO PUBLIC
  USING (store_id = get_current_store_id());

CREATE POLICY order_store_policy ON retail.orders  
  FOR ALL TO PUBLIC
  USING (store_id = get_current_store_id());

-- Function to get current user's store
CREATE OR REPLACE FUNCTION get_current_store_id()
RETURNS uuid AS $$
BEGIN
  RETURN current_setting('app.current_rls_user_id')::uuid;
END;
$$ LANGUAGE plpgsql SECURITY DEFINER;
```

#### 2. **Context Setting in MCP Server**
```python
async def execute_query(self, sql_query: str, rls_user_id: str) -> str:
    """Execute query with RLS context."""
    conn = await self.get_connection()
    
    # Set RLS context for this connection
    await conn.execute(
        "SELECT set_config('app.current_rls_user_id', $1, false)", 
        rls_user_id
    )
    
    # Execute user query with RLS filtering
    rows = await conn.fetch(sql_query)
    return self.format_results(rows)
```

### Semantic Search Deep Dive

#### 1. **Embedding Pipeline**
```python
# Generate embeddings for product descriptions
async def generate_product_embeddings():
    products = await get_all_products()
    
    for product in products:
        description = f"{product.name} {product.description} {product.category}"
        embedding = embedding_client.generate_embedding(description)
        
        await store_embedding(product.id, embedding)
```

#### 2. **Similarity Search Optimization**
```sql
-- Create vector index for performance
CREATE INDEX idx_product_embeddings_vector 
ON retail.product_description_embeddings 
USING ivfflat (description_embedding vector_cosine_ops);

-- Optimized similarity query
SELECT p.*, 
       (pde.description_embedding <=> $1::vector) as distance,
       (1 - (pde.description_embedding <=> $1::vector)) * 100 as similarity_percent
FROM retail.product_description_embeddings pde
JOIN retail.products p ON pde.product_id = p.product_id
WHERE (pde.description_embedding <=> $1::vector) < 0.7  -- 30% similarity threshold
ORDER BY distance
LIMIT 20;
```

### риири┐риЧри░ри╛риирйА риЕридрйЗ рижрйНри░ри┐ри╕ри╝риЯри╛риЕрии

#### 1. **Azure Application Insights Integration**
```python
# Configure telemetry
from azure.monitor.opentelemetry import configure_azure_monitor
from opentelemetry.instrumentation.starlette import StarletteInstrumentor

# Enable monitoring if configured
if config.applicationinsights_connection_string:
    configure_azure_monitor(
        connection_string=config.applicationinsights_connection_string
    )
    StarletteInstrumentor().instrument_app(mcp.sse_app())
```

#### 2. **Custom Metrics and Logging**
```python
# Query execution tracking
@contextmanager
async def track_query_execution(query_type: str):
    start_time = time.time()
    try:
        yield
        duration = time.time() - start_time
        logger.info("Query executed", extra={
            "query_type": query_type,
            "duration_ms": duration * 1000,
            "status": "success"
        })
    except Exception as e:
        duration = time.time() - start_time
        logger.error("Query failed", extra={
            "query_type": query_type,
            "duration_ms": duration * 1000,
            "status": "error",
            "error": str(e)
        })
        raise
```

---

## риори╕ри▓рйЗ ри╣рй▒ри▓

### риЖрио ри╕риорй▒ри╕ри┐риЖри╡ри╛риВ риЕридрйЗ ри╣рй▒ри▓

#### 1. **рибри╛риЯри╛римрйЗри╕ риХриирйИриХри╕ри╝рии ри╕риорй▒ри╕ри┐риЖри╡ри╛риВ**
```python
# Connection diagnostics
async def diagnose_connection():
    try:
        pool = await asyncpg.create_pool(**connection_params, min_size=1)
        conn = await pool.acquire()
        result = await conn.fetchval("SELECT 1")
        await pool.release(conn)
        await pool.close()
        return True
    except Exception as e:
        logger.error("Connection failed: %s", e)
        return False
```

**риЖрио ри╣рй▒ри▓:**
- PostgreSQL риЪри▓ ри░ри┐ри╣ри╛ ри╣рйИ риЬри╛риВ риири╣рйАриВ риЬри╛риВриЪрйЛ: `docker ps`
- `.env` ри╡ри┐рй▒риЪ риХриирйИриХри╕ри╝рии рикрйИри░ри╛риорйАриЯри░ риЪрйИрй▒риХ риХри░рйЛ
- рибри╛риЯри╛римрйЗри╕ риорйМриЬрйВриж ри╣рйИ риЬри╛риВ риири╣рйАриВ риЬри╛риВриЪрйЛ: `docker exec -it pg17 psql -U postgres -l`
- риирйИриЯри╡ри░риХ риХриирйИриХриЯри┐ри╡ри┐риЯрйА риЯрйИри╕риЯ риХри░рйЛ: `telnet localhost 5432`

#### 2. **RLS риирйАридрйА ри╕риорй▒ри╕ри┐риЖри╡ри╛риВ**
```sql
-- Debug RLS policies
SELECT schemaname, tablename, policyname, cmd, qual 
FROM pg_policies 
WHERE schemaname = 'retail';

-- Check current RLS setting
SELECT current_setting('app.current_rls_user_id');

-- Temporarily disable RLS for debugging
ALTER TABLE retail.orders DISABLE ROW LEVEL SECURITY;
```

#### 3. **Embedding ри╕рйЗри╡ри╛ ри╕риорй▒ри╕ри┐риЖри╡ри╛риВ**
```python
# Test embedding generation
async def test_embeddings():
    try:
        test_text = "waterproof electrical connector"
        embedding = embedding_client.generate_embedding(test_text)
        logger.info("Embedding generated successfully: %d dimensions", len(embedding))
        return True
    except Exception as e:
        logger.error("Embedding test failed: %s", e)
        return False
```

### рикрйНри░рижри░ри╕ри╝рии риЕрикриЯри╛риИриори╛риИриЬри╝рйЗри╕ри╝рии

#### 1. **Connection Pool Tuning**
```python
# Optimize for your workload
connection_pool = await asyncpg.create_pool(
    min_size=2,          # Minimum connections
    max_size=10,         # Maximum connections  
    max_inactive_connection_lifetime=300,  # 5 minutes
    command_timeout=30,   # Query timeout
    server_settings={
        "application_name": "mcp-server",
        "work_mem": "4MB",
        "shared_preload_libraries": "pg_stat_statements"
    }
)
```

#### 2. **Query Optimization**
```sql
-- Add indexes for common query patterns
CREATE INDEX idx_orders_store_date 
ON retail.orders (store_id, order_date);

CREATE INDEX idx_order_items_product 
ON retail.order_items (product_id);

-- Analyze query performance
EXPLAIN (ANALYZE, BUFFERS) 
SELECT ... FROM retail.orders o JOIN retail.order_items oi ...;
```

---

## ри╕ри░ри╡рйЛридрио риЕринри┐риЖри╕

### ри╕рйБри░рй▒риЦри┐риЖ ри╕ри░ри╡рйЛридрио риЕринри┐риЖри╕

#### 1. **Environment Variable Management**
```bash
# Use strong, unique passwords
POSTGRES_PASSWORD=$(openssl rand -base64 32)

# Rotate service principal credentials regularly
az ad sp credential reset --id $SP_ID --credential-description "Rotated $(date)"

# Use Azure Key Vault in production
az keyvault secret set --vault-name $VAULT_NAME --name "db-password" --value $PASSWORD
```

#### 2. **RLS ри▓ри╛риЧрйВриХри░рии рижрйЗ риири┐риприо**
- **Default Deny**: ри╕ри╝рйБри░рйВриЖрид ри░рйЛриХриери╛рио риирйАридрйАриЖриВ риири╛ри▓ риХри░рйЛ
- **Audit Regularly**: риирйАридрйА рижрйА рикрйНри░ринри╛ри╡ри╕ри╝рйАри▓ридри╛ рижрйА риири┐риЧри░ри╛риирйА риХри░рйЛ
- **Test Thoroughly**: рикри╣рйБрй░риЪ рикрйИриЯри░рии рижрйА риЬри╛риВриЪ риХри░рйЛ
- **Document Policies**: ри╕рикри╕ри╝риЯ рижри╕ридри╛ри╡рйЗриЬри╝ ри░рй▒риЦрйЛ

#### 3. **Network Security**
```yaml
# Production docker-compose with network isolation
networks:
  internal:
    driver: bridge
    internal: true
  external:
    driver: bridge

services:
  postgres:
    networks:
      - internal
    # No external ports in production
  
  mcp_server:
    networks:
      - internal
      - external
    ports:
      - "127.0.0.1:8000:8000"  # Bind to localhost only
```

### ри╡ри┐риХри╛ри╕ ри╕ри░ри╡рйЛридрио риЕринри┐риЖри╕

#### 1. **Error Handling Patterns**
```python
# Structured error responses
class MCPError(Exception):
    def __init__(self, message: str, error_type: str = "general"):
        self.message = message
        self.error_type = error_type
        super().__init__(message)

async def safe_execute_query(query: str, rls_user_id: str) -> str:
    try:
        return await db_provider.execute_query(query, rls_user_id)
    except asyncpg.PostgresError as e:
        logger.error("Database error: %s", e)
        return json.dumps({"error": "Database query failed", "type": "database"})
    except Exception as e:
        logger.error("Unexpected error: %s", e)
        return json.dumps({"error": "Internal server error", "type": "server"})
```

#### 2. **Testing Strategies**
```python
# Unit test example
@pytest.mark.asyncio
async def test_rls_isolation():
    """Test that RLS properly isolates store data."""
    
    # Test Seattle store manager
    seattle_results = await db_provider.execute_query(
        "SELECT COUNT(*) FROM retail.orders",
        rls_user_id="f47ac10b-58cc-4372-a567-0e02b2c3d479"
    )
    
    # Test Redmond store manager  
    redmond_results = await db_provider.execute_query(
        "SELECT COUNT(*) FROM retail.orders", 
        rls_user_id="e7f8a9b0-c1d2-3e4f-5678-90abcdef1234"
    )
    
    # Results should be different due to RLS
    assert seattle_results != redmond_results
```

#### 3. **Monitoring and Alerts**
```python
# Custom metrics for monitoring
from prometheus_client import Counter, Histogram, start_http_server

query_counter = Counter('mcp_queries_total', 'Total queries executed', ['query_type'])
query_duration = Histogram('mcp_query_duration_seconds', 'Query execution time')

@query_duration.time()
async def execute_query_with_metrics(query: str, rls_user_id: str):
    query_counter.labels(query_type='sales_analysis').inc()
    return await db_provider.execute_query(query, rls_user_id)
```

### рибри┐рикри▓рйМриЗриорйИриВриЯ ри╕ри░ри╡рйЛридрио риЕринри┐риЖри╕

#### 1. **Infrastructure as Code**
```bicep
// Use parameter files for different environments
param environment string = 'dev'
param location string = 'westus2'

// Apply consistent naming conventions
var resourcePrefix = 'zava-mcp-${environment}'
var resourceGroupName = 'rg-${resourcePrefix}-${uniqueSuffix}'

// Use tags for resource management
var commonTags = {
  Environment: environment
  Project: 'zava-mcp-server'
  ManagedBy: 'bicep'
  CreatedDate: utcNow('yyyy-MM-dd')
}
```

#### 2. **CI/CD Pipeline Integration**
```yaml
# Azure DevOps pipeline example
- task: AzureCLI@2
  displayName: 'Deploy Infrastructure'
  inputs:
    azureSubscription: $(azureServiceConnection)
    scriptType: 'bash'
    scriptLocation: 'inlineScript'
    inlineScript: |
      az deployment sub create \
        --name "mcp-server-$(Build.BuildId)" \
        --location $(location) \
        --template-file infra/main.bicep \
        --parameters environment=$(environment)

- task: Docker@2
  displayName: 'Build and Push MCP Server'
  inputs:
    command: 'buildAndPush'
    repository: 'zava-mcp-server'
    tags: '$(Build.BuildId)'
```

---

риЗри╣ ри╡ри┐ри╕ридрйНри░ри┐рид риЧри╛риИриб риЗрй▒риХ рикрйНри░рйЛрибриХри╕ри╝рии-ридри┐риЖри░ MCP ри╕ри░ри╡ри░ риирйВрй░ PostgreSQL риЗрй░риЯрйАриЧрйНри░рйЗри╕ри╝рии риири╛ри▓ римригри╛риЙриг, рибри┐рикри▓рйМриЗ риХри░рии, риЕридрйЗ риЪри▓ри╛риЙриг ри▓риИ риорйВри▓ ринрйВрид рикрйНри░рижри╛рии риХри░рижрйА ри╣рйИред риЗрй▒риерйЗ рижри░ри╕ри╛риП рикрйИриЯри░рии риЕридрйЗ риЕринри┐риЖри╕ риирйВрй░ ри╣рйЛри░ риЦрйЗридри░ри╛риВ риЕридрйЗ ри╡ри░ридрйЛриВ рижрйЗ риХрйЗри╕ри╛риВ ри╡ри┐рй▒риЪ ри╡ризри╛риЗриЖ риЬри╛ ри╕риХрижри╛ ри╣рйИ, риЬрижрйЛриВ риХри┐ ри╕рйБри░рй▒риЦри┐риЖ, рикрйНри░рижри░ри╕ри╝рии, риЕридрйЗ ри░рй▒риЦ-ри░риЦри╛ри╡ риирйВрй░ риприХрйАриирйА римригри╛риЗриЖ риЬри╛ ри╕риХрижри╛ ри╣рйИред

---

**риЕри╕ри╡рйАриХри░ридри╛**:  
риЗри╣ рижри╕ридри╛ри╡рйЗриЬри╝ AI риЕриирйБри╡ри╛риж ри╕рйЗри╡ри╛ [Co-op Translator](https://github.com/Azure/co-op-translator) рижрйА ри╡ри░ридрйЛриВ риХри░риХрйЗ риЕриирйБри╡ри╛риж риХрйАридри╛ риЧри┐риЖ ри╣рйИред риЬрижрйЛриВ риХри┐ риЕри╕рйАриВ ри╕ри╣рйА ри╣рйЛриг рижри╛ рипридрии риХри░рижрйЗ ри╣ри╛риВ, риХри┐ри░рикри╛ риХри░риХрйЗ ризри┐риЖрии рижри┐риУ риХри┐ ри╕ри╡рйИриЪри╛ри▓ри┐рид риЕриирйБри╡ри╛рижри╛риВ ри╡ри┐рй▒риЪ риЧри▓ридрйАриЖриВ риЬри╛риВ риЕри╕рйБриЪрй▒риЬрйЗрикриг ри╣рйЛ ри╕риХрижрйЗ ри╣рииред риЗри╕ рижрйА риорйВри▓ ринри╛ри╕ри╝ри╛ ри╡ри┐рй▒риЪ риорйМриЬрйВриж риЕри╕ри▓ рижри╕ридри╛ри╡рйЗриЬри╝ риирйВрй░ риЕризри┐риХри╛ри░рид ри╕ри░рйЛрид риорй░риири┐риЖ риЬри╛ригри╛ риЪри╛ри╣рйАрижри╛ ри╣рйИред риори╣рй▒ридри╡рикрйВри░рии риЬри╛ригриХри╛ри░рйА ри▓риИ, рикрйЗри╕ри╝рйЗри╡ри░ риориирйБрй▒риЦрйА риЕриирйБри╡ри╛риж рижрйА ри╕ри┐рилри╛ри░ри╕ри╝ риХрйАридрйА риЬри╛риВрижрйА ри╣рйИред риЗри╕ риЕриирйБри╡ри╛риж рижрйА ри╡ри░ридрйЛриВ ридрйЛриВ рикрйИрижри╛ ри╣рйЛриг ри╡ри╛ри▓рйЗ риХри┐ри╕рйЗ ри╡рйА риЧри▓ридрилри╣ри┐риорйА риЬри╛риВ риЧри▓рид ри╡ри┐риЖриЦри┐риЖ ри▓риИ риЕри╕рйАриВ риЬри╝ри┐рй░риорйЗри╡ри╛ри░ риири╣рйАриВ ри╣ри╛риВред