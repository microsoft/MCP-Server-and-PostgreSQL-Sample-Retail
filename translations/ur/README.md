<!--
CO_OP_TRANSLATOR_METADATA:
{
  "original_hash": "94449afc70ef625a5360a67829a017b3",
  "translation_date": "2025-09-30T09:18:11+00:00",
  "source_file": "README.md",
  "language_code": "ur"
}
-->
# ایم سی پی سرور اور پوسٹگری ایس کیو ایل سیمپل - ریٹیل سیلز اینالیسس

## ڈیٹا بیس انٹیگریشن کے ساتھ ایم سی پی سیکھیں عملی مثالوں کے ذریعے

[![GitHub contributors](https://img.shields.io/github/contributors/microsoft/MCP-Server-and-PostgreSQL-Sample-Retail.svg)](https://GitHub.com/microsoft/MCP-Server-and-PostgreSQL-Sample-Retail/graphs/contributors)  
[![GitHub issues](https://img.shields.io/github/issues/microsoft/MCP-Server-and-PostgreSQL-Sample-Retail.svg)](https://GitHub.com/microsoft/MCP-Server-and-PostgreSQL-Sample-Retail/issues)  
[![GitHub pull-requests](https://img.shields.io/github/issues-pr/microsoft/MCP-Server-and-PostgreSQL-Sample-Retail.svg)](https://GitHub.com/microsoft/MCP-Server-and-PostgreSQL-Sample-Retail/pulls)  
[![PRs Welcome](https://img.shields.io/badge/PRs-welcome-brightgreen.svg?style=flat-square)](http://makeapullrequest.com)  

[![Join Azure AI Foundry Discord](https://dcbadge.limes.pink/api/server/ByRwuEEgH4)](https://discord.com/invite/ByRwuEEgH4)

ان وسائل کو استعمال کرنے کے لیے درج ذیل اقدامات کریں:

1. **ریپوزٹری کو فورک کریں**: [یہاں کلک کریں](https://github.com/microsoft/MCP-Server-and-PostgreSQL-Sample-Retail/fork)  
2. **ریپوزٹری کو کلون کریں**: `git clone https://github.com/YOUR-USERNAME/MCP-Server-and-PostgreSQL-Sample-Retail.git`  
3. **Azure AI Foundry Discord میں شامل ہوں**: [ماہرین اور دیگر ڈویلپرز سے ملیں](https://discord.com/invite/ByRwuEEgH4)  

### 🌐 کثیر لسانی سپورٹ

#### GitHub ایکشن کے ذریعے سپورٹ (خودکار اور ہمیشہ اپ ڈیٹڈ)

[فرانسیسی](../fr/README.md) | [ہسپانوی](../es/README.md) | [جرمن](../de/README.md) | [روسی](../ru/README.md) | [عربی](../ar/README.md) | [فارسی](../fa/README.md) | [اردو](./README.md) | [چینی (آسان)](../zh/README.md) | [چینی (روایتی، مکاؤ)](../mo/README.md) | [چینی (روایتی، ہانگ کانگ)](../hk/README.md) | [چینی (روایتی، تائیوان)](../tw/README.md) | [جاپانی](../ja/README.md) | [کوریائی](../ko/README.md) | [ہندی](../hi/README.md) | [بنگالی](../bn/README.md) | [مراٹھی](../mr/README.md) | [نیپالی](../ne/README.md) | [پنجابی (گرمکھی)](../pa/README.md) | [پرتگالی (پرتگال)](../pt/README.md) | [پرتگالی (برازیل)](../br/README.md) | [اطالوی](../it/README.md) | [پولش](../pl/README.md) | [ترکی](../tr/README.md) | [یونانی](../el/README.md) | [تھائی](../th/README.md) | [سویڈش](../sv/README.md) | [ڈینش](../da/README.md) | [نارویجین](../no/README.md) | [فنش](../fi/README.md) | [ڈچ](../nl/README.md) | [عبرانی](../he/README.md) | [ویتنامی](../vi/README.md) | [انڈونیشیائی](../id/README.md) | [ملائی](../ms/README.md) | [ٹیگالوگ (فلپائنی)](../tl/README.md) | [سواحلی](../sw/README.md) | [ہنگری](../hu/README.md) | [چیک](../cs/README.md) | [سلوواک](../sk/README.md) | [رومانیائی](../ro/README.md) | [بلغاریائی](../bg/README.md) | [سربیائی (سیریلیک)](../sr/README.md) | [کروشین](../hr/README.md) | [سلووینیائی](../sl/README.md) | [یوکرینیائی](../uk/README.md) | [برمی (میانمار)](../my/README.md)

**اگر آپ اضافی زبانوں کی سپورٹ چاہتے ہیں تو [یہاں](https://github.com/Azure/co-op-translator/blob/main/getting_started/supported-languages.md) دیکھیں۔**

## تعارف

یہ سیمپل دکھاتا ہے کہ کس طرح ایک جامع **ماڈل کانٹیکسٹ پروٹوکول (MCP) سرور** بنایا اور ڈپلائے کیا جا سکتا ہے جو AI اسسٹنٹس کو پوسٹگری ایس کیو ایل کے ذریعے ریٹیل سیلز ڈیٹا تک محفوظ اور ذہین رسائی فراہم کرتا ہے۔ یہ پروجیکٹ انٹرپرائز گریڈ خصوصیات پیش کرتا ہے جیسے **رو لیول سیکیورٹی (RLS)**، **سیمینٹک سرچ کی صلاحیتیں**، اور **Azure AI انٹیگریشن** حقیقی دنیا کے ریٹیل اینالیسس کے لیے۔

**اہم استعمالات:**
- **AI سے چلنے والا سیلز اینالیسس**: AI اسسٹنٹس کو نیچرل لینگویج کے ذریعے ریٹیل سیلز ڈیٹا کو کوئری اور اینالائز کرنے کے قابل بنائیں  
- **محفوظ ملٹی ٹیننٹ رسائی**: رو لیول سیکیورٹی کا مظاہرہ کریں جہاں مختلف اسٹور مینیجرز صرف اپنے اسٹور کا ڈیٹا دیکھ سکتے ہیں  
- **سیمینٹک پروڈکٹ سرچ**: ٹیکسٹ ایمبیڈنگز کے ذریعے AI سے بہتر پروڈکٹ ڈسکوری دکھائیں  
- **انٹرپرائز انٹیگریشن**: MCP سرورز کو Azure سروسز اور پوسٹگری ایس کیو ایل ڈیٹا بیسز کے ساتھ انٹیگریٹ کرنے کا مظاہرہ کریں  

**یہ بہترین ہے:**
- ڈویلپرز کے لیے جو ڈیٹا بیس انٹیگریشن کے ساتھ MCP سرورز بنانا سیکھنا چاہتے ہیں  
- ڈیٹا انجینئرز کے لیے جو محفوظ ملٹی ٹیننٹ اینالیسس حل نافذ کرنا چاہتے ہیں  
- AI ایپلیکیشن ڈویلپرز کے لیے جو ریٹیل یا ای کامرس ڈیٹا کے ساتھ کام کر رہے ہیں  
- ہر اس شخص کے لیے جو AI اسسٹنٹس کو انٹرپرائز ڈیٹا بیسز کے ساتھ جوڑنا چاہتا ہے  

## Azure AI Foundry Discord کمیونٹی میں شامل ہوں
MCP کے تجربات شیئر کریں اور ماہرین اور پروڈکٹ گروپس سے ملیں  

[![Azure AI Discord](https://dcbadge.limes.pink/api/server/ByRwuEEgH4)](https://discord.com/invite/ByRwuEEgH4)

# سیلز اینالیسس MCP سرور

ایک ماڈل کانٹیکسٹ پروٹوکول (MCP) سرور جو Zava Retail DIY بزنس کے لیے جامع کسٹمر سیلز ڈیٹا بیس تک رسائی فراہم کرتا ہے۔ یہ سرور AI اسسٹنٹس کو ایک محفوظ، اسکیمہ-اویر انٹرفیس کے ذریعے ریٹیل سیلز ڈیٹا کو کوئری اور اینالائز کرنے کے قابل بناتا ہے۔

## 📚 مکمل عمل درآمد گائیڈ

اس حل کو بنانے اور اسی طرح کے MCP سرورز کو نافذ کرنے کے طریقے کے بارے میں تفصیلی وضاحت کے لیے ہماری جامع **[سیمپل واک تھرو](Sample_Walkthrough.md)** دیکھیں۔ یہ گائیڈ فراہم کرتی ہے:

- **آرکیٹیکچر کی گہرائی سے وضاحت**: اجزاء کا تجزیہ اور ڈیزائن پیٹرنز  
- **مرحلہ وار تعمیر**: پروجیکٹ سیٹ اپ سے لے کر ڈپلائمنٹ تک  
- **کوڈ کی وضاحت**: MCP سرور کے نفاذ کی تفصیلی وضاحت  
- **اعلی درجے کی خصوصیات**: رو لیول سیکیورٹی، سیمینٹک سرچ، اور مانیٹرنگ  
- **بہترین طریقے**: سیکیورٹی، کارکردگی، اور ترقیاتی رہنما اصول  
- **مسائل کا حل**: عام مسائل اور ان کے حل  

یہ ان ڈویلپرز کے لیے بہترین ہے جو عمل درآمد کی تفصیلات کو سمجھنا اور اسی طرح کے حل بنانا چاہتے ہیں۔

## 🤖 MCP (ماڈل کانٹیکسٹ پروٹوکول) کیا ہے؟

**ماڈل کانٹیکسٹ پروٹوکول (MCP)** ایک اوپن اسٹینڈرڈ ہے جو AI اسسٹنٹس کو حقیقی وقت میں بیرونی ڈیٹا ذرائع اور ٹولز تک محفوظ رسائی فراہم کرتا ہے۔ اسے ایک پل کے طور پر سوچیں جو AI ماڈلز کو ڈیٹا بیسز، APIs، فائل سسٹمز، اور دیگر وسائل کے ساتھ جوڑتا ہے جبکہ سیکیورٹی اور کنٹرول کو برقرار رکھتا ہے۔

### اہم فوائد:
- **حقیقی وقت میں ڈیٹا تک رسائی**: AI اسسٹنٹس لائیو ڈیٹا بیسز اور APIs کو کوئری کر سکتے ہیں  
- **محفوظ انٹیگریشن**: تصدیق اور اجازت کے ساتھ کنٹرولڈ رسائی  
- **ٹول کی توسیع پذیری**: AI اسسٹنٹس میں کسٹم صلاحیتیں شامل کریں  
- **معیاری پروٹوکول**: مختلف AI پلیٹ فارمز اور ٹولز کے ساتھ کام کرتا ہے  

### MCP کے لیے نئے ہیں؟

اگر آپ ماڈل کانٹیکسٹ پروٹوکول کے لیے نئے ہیں، تو ہم مائیکروسافٹ کے جامع ابتدائی وسائل سے شروع کرنے کی تجویز دیتے ہیں:

**📖 [MCP کے لیے ابتدائی گائیڈ](https://aka.ms/mcp-for-beginners)**

یہ وسیلہ فراہم کرتا ہے:
- MCP کے تصورات اور آرکیٹیکچر کا تعارف  
- آپ کا پہلا MCP سرور بنانے کے لیے مرحلہ وار ٹیوٹوریلز  
- MCP ترقی کے لیے بہترین طریقے  
- مقبول AI پلیٹ فارمز کے ساتھ انٹیگریشن کی مثالیں  
- کمیونٹی وسائل اور سپورٹ  

بنیادی باتوں کو سمجھنے کے بعد، یہاں واپس آئیں تاکہ اس اعلی درجے کے ریٹیل اینالیسس کے نفاذ کو دریافت کریں!

## 📚 جامع لرننگ گائیڈ: /walkthrough

یہ ریپوزٹری ایک مکمل **12-ماڈیول لرننگ واک تھرو** شامل کرتی ہے جو اس MCP ریٹیل سرور سیمپل کو ہضم ہونے والے، مرحلہ وار اسباق میں تقسیم کرتی ہے۔ واک تھرو اس کام کرنے والی مثال کو ایک جامع تعلیمی وسیلہ میں تبدیل کرتی ہے جو ان ڈویلپرز کے لیے بہترین ہے جو ڈیٹا بیس انٹیگریشن کے ساتھ پروڈکشن کے لیے تیار MCP سرورز بنانا سیکھنا چاہتے ہیں۔

### آپ کیا سیکھیں گے

واک تھرو بنیادی MCP تصورات سے لے کر اعلی درجے کی پروڈکشن ڈپلائمنٹ تک سب کچھ شامل کرتی ہے، بشمول:

- **MCP کے بنیادی اصول**: ماڈل کانٹیکسٹ پروٹوکول اور اس کے حقیقی دنیا کے استعمالات کو سمجھنا  
- **ڈیٹا بیس انٹیگریشن**: رو لیول سیکیورٹی کے ساتھ محفوظ پوسٹگری ایس کیو ایل کنیکٹیویٹی کو نافذ کرنا  
- **AI سے بہتر خصوصیات**: Azure OpenAI ایمبیڈنگز کے ساتھ سیمینٹک سرچ کی صلاحیتیں شامل کرنا  
- **سیکیورٹی کا نفاذ**: انٹرپرائز گریڈ تصدیق، اجازت، اور ڈیٹا کی علیحدگی  
- **ٹول ڈویلپمنٹ**: ڈیٹا اینالیسس اور بزنس انٹیلیجنس کے لیے جدید MCP ٹولز بنانا  
- **ٹیسٹنگ اور ڈیبگنگ**: جامع ٹیسٹنگ کی حکمت عملی اور ڈیبگنگ تکنیک  
- **VS کوڈ انٹیگریشن**: نیچرل لینگویج ڈیٹا بیس کوئریز کے لیے AI چیٹ کو ترتیب دینا  
- **پروڈکشن ڈپلائمنٹ**: کنٹینرائزیشن، اسکیلنگ، اور کلاؤڈ ڈپلائمنٹ کی حکمت عملی  
- **مانیٹرنگ اور مشاہدہ**: ایپلیکیشن انسائٹس، لاگنگ، اور کارکردگی کی نگرانی  

### لرننگ پاتھ کا جائزہ

واک تھرو ایک ترقی پسند لرننگ اسٹرکچر کی پیروی کرتی ہے جو تمام مہارت کی سطحوں کے ڈویلپرز کے لیے ڈیزائن کی گئی ہے:

| ماڈیول | فوکس ایریا | تفصیل | وقت کا تخمینہ |
|--------|------------|-------------|---------------|
| **[00-تعارف](walkthrough/00-Introduction/README.md)** | بنیاد | MCP کے تصورات، Zava ریٹیل کیس اسٹڈی، آرکیٹیکچر کا جائزہ | 30 منٹ |
| **[01-آرکیٹیکچر](walkthrough/01-Architecture/README.md)** | ڈیزائن پیٹرنز | تکنیکی آرکیٹیکچر، لیئرڈ ڈیزائن، سسٹم کے اجزاء | 45 منٹ |
| **[02-سیکیورٹی](walkthrough/02-Security/README.md)** | انٹرپرائز سیکیورٹی | Azure تصدیق، رو لیول سیکیورٹی، ملٹی ٹیننٹ علیحدگی | 60 منٹ |
| **[03-سیٹ اپ](walkthrough/03-Setup/README.md)** | ماحول | ڈاکر سیٹ اپ، Azure CLI، پروجیکٹ کنفیگریشن، توثیق | 45 منٹ |
| **[04-ڈیٹا بیس](walkthrough/04-Database/README.md)** | ڈیٹا لیئر | پوسٹگری ایس کیو ایل اسکیمہ، pgvector، RLS پالیسیاں، سیمپل ڈیٹا | 60 منٹ |
| **[05-MCP-سرور](walkthrough/05-MCP-Server/README.md)** | بنیادی نفاذ | FastMCP فریم ورک، ڈیٹا بیس انٹیگریشن، کنکشن مینجمنٹ | 90 منٹ |
| **[06-ٹولز](walkthrough/06-Tools/README.md)** | ٹول ڈویلپمنٹ | MCP ٹول کی تخلیق، کوئری کی توثیق، بزنس انٹیلیجنس خصوصیات | 75 منٹ |
| **[07-سیمینٹک سرچ](walkthrough/07-Semantic-Search/README.md)** | AI انٹیگریشن | Azure OpenAI ایمبیڈنگز، ویکٹر سرچ، ہائبرڈ سرچ حکمت عملی | 60 منٹ |
| **[08-ٹیسٹنگ](walkthrough/08-Testing/README.md)** | کوالٹی اشورنس | یونٹ ٹیسٹنگ، انٹیگریشن ٹیسٹنگ، کارکردگی ٹیسٹنگ، ڈیبگنگ | 75 منٹ |
| **[09-VS-کوڈ](walkthrough/09-VS-Code/README.md)** | ترقیاتی تجربہ | VS کوڈ کنفیگریشن، AI چیٹ انٹیگریشن، ڈیبگنگ ورک فلو | 45 منٹ |
| **[10-ڈپلائمنٹ](walkthrough/10-Deployment/README.md)** | پروڈکشن کے لیے تیار | کنٹینرائزیشن، Azure کنٹینر ایپس، CI/CD پائپ لائنز، اسکیلنگ | 90 منٹ |
| **[11-مانیٹرنگ](walkthrough/11-Monitoring/README.md)** | مشاہدہ | ایپلیکیشن انسائٹس، اسٹرکچرڈ لاگنگ، کارکردگی کے میٹرکس | 60 منٹ |
| **[12-بہترین طریقے](walkthrough/12-Best-Practices/README.md)** | پروڈکشن کی عمدگی | سیکیورٹی کو سخت کرنا، کارکردگی کو بہتر بنانا، انٹرپرائز پیٹرنز | 45 منٹ |

**کل لرننگ وقت**: ~12-15 گھنٹے کا جامع عملی سیکھنا

### 🎯 واک تھرو کو استعمال کرنے کا طریقہ

**ابتدائی افراد کے لیے**:
1. [ماڈیول 00: تعارف](walkthrough/00-Introduction/README.md) سے شروع کریں تاکہ MCP کے بنیادی اصولوں کو سمجھ سکیں  
2. مکمل لرننگ کے تجربے کے لیے ماڈیولز کو ترتیب وار فالو کریں  
3. ہر ماڈیول پچھلے تصورات پر مبنی ہے اور عملی مشقیں شامل ہیں  

**ماہر ڈویلپرز کے لیے**:
1. [مرکزی واک تھرو کا جائزہ](walkthrough/README.md) دیکھیں تاکہ ماڈیول کا خلاصہ حاصل ہو  
2. ان ماڈیولز پر جائیں جو آپ کی دلچسپی کے ہیں (مثلاً، ماڈیول 07 AI انٹیگریشن کے لیے)  
3. اپنے پروجیکٹس کے لیے انفرادی ماڈیولز کو حوالہ جاتی مواد کے طور پر استعمال کریں  

**پروڈکشن کے نفاذ کے لیے**:
1. ماڈیول 02 (سیکیورٹی)، 10 (ڈپلائمنٹ)، اور 11 (مانیٹرنگ) پر توجہ مرکوز کریں  
2. ماڈیول 12 (بہترین طریقے) کا جائزہ لیں تاکہ انٹرپرائز رہنما اصول
### 📋 سیکھنے کے لیے ضروری معلومات

**تجویز کردہ پس منظر**:
- بنیادی Python پروگرامنگ کا تجربہ
- REST APIs اور ڈیٹا بیسز سے واقفیت
- AI/ML تصورات کی عمومی سمجھ
- کمانڈ لائن اور Docker کی بنیادی معلومات

**ضروری نہیں (لیکن مددگار)**:
- پہلے MCP کا تجربہ (ہم یہ شروع سے سکھاتے ہیں)
- Azure کلاؤڈ کا تجربہ (ہم مرحلہ وار رہنمائی فراہم کرتے ہیں)
- PostgreSQL کی اعلیٰ سطح کی معلومات (ہم ضرورت کے مطابق وضاحت کرتے ہیں)

### 💡 سیکھنے کے نکات

1. **عملی طریقہ**: ہر ماڈیول میں کام کرنے والے کوڈ کی مثالیں شامل ہیں جنہیں آپ چلا سکتے ہیں اور تبدیل کر سکتے ہیں
2. **تدریجی پیچیدگی**: تصورات آسان سے پیچیدہ تک بتدریج تعمیر کیے گئے ہیں
3. **حقیقی دنیا کا سیاق و سباق**: تمام مثالیں حقیقت پسندانہ ریٹیل کاروباری منظرنامے استعمال کرتی ہیں
4. **پروڈکشن کے لیے تیار**: کوڈ کی مثالیں حقیقی پروڈکشن استعمال کے لیے ڈیزائن کی گئی ہیں
5. **کمیونٹی سپورٹ**: ہماری [Discord کمیونٹی](https://discord.com/invite/ByRwuEEgH4) میں شامل ہوں مدد اور گفتگو کے لیے

### 🔗 متعلقہ وسائل

- **[MCP for Beginners](https://aka.ms/mcp-for-beginners)**: ضروری پس منظر پڑھنے کے لیے
- **[Sample Walkthrough](Sample_Walkthrough.md)**: تکنیکی جائزہ
- **[Azure AI Foundry](https://azure.microsoft.com/en-us/products/ai-foundry)**: کلاؤڈ پلیٹ فارم جو مثالوں میں استعمال ہوتا ہے
- **[FastMCP Framework](https://github.com/jlowin/fastmcp)**: Python MCP کا نفاذی فریم ورک

**سیکھنا شروع کرنے کے لیے تیار ہیں؟** **[ماڈیول 00: تعارف](walkthrough/00-Introduction/README.md)** سے شروع کریں یا **[مکمل واک تھرو کا جائزہ](walkthrough/README.md)** دیکھیں۔

## ضروریات

1. Docker Desktop انسٹال کیا ہوا ہو
2. Git انسٹال کیا ہوا ہو
3. **Azure CLI**: Azure CLI کے ساتھ انسٹال کریں اور تصدیق کریں
4. OpenAI `text-embedding-3-small` ماڈل تک رسائی اور اختیاری طور پر `gpt-4o-mini` ماڈل

## شروع کرنا

ایک ٹرمینل ونڈو کھولیں اور درج ذیل کمانڈز چلائیں:

1. Azure CLI کے ساتھ تصدیق کریں

    ```bash
    az login
    ```

2. ریپوزٹری کلون کریں

    ```bash
    git clone https://github.com/gloveboxes/Zava-MCP-Server-and-PostgreSQL-Sample
    ```

3. پروجیکٹ ڈائریکٹری میں جائیں

    ```bash
    cd Zava-MCP-Server-and-PostgreSQL-Sample
    ```

### Azure وسائل کو تعینات کریں

MCP سرور کے لیے ضروری Azure وسائل کی تعیناتی کو خودکار بنانے کے لیے درج ذیل اسکرپٹس چلائیں۔

تعیناتی اسکرپٹس خود بخود `text-embedding-3-small` ماڈل کو تعینات کریں گے۔ تعیناتی کے دوران، آپ کے پاس `gpt-4o-mini` ماڈل کو شامل کرنے کا اختیار ہوگا۔ نوٹ کریں کہ `gpt-4o-mini` اس پروجیکٹ کے لیے **ضروری نہیں** ہے اور صرف ممکنہ مستقبل کی بہتری کے لیے شامل کیا گیا ہے۔

**اپنے پلیٹ فارم کے لیے اسکرپٹ منتخب کریں:**

#### Windows (PowerShell)

```powershell
# Run from the project root directory
cd infra && ./deploy.ps1
```

#### macOS/Linux (Bash)

```bash
# Run from the project root directory
cd infra && ./deploy.sh
```

## MCP سرور چلانا

پورے اسٹیک (PostgreSQL + MCP سرور) کو چلانے کا سب سے آسان طریقہ Docker Compose استعمال کرنا ہے:

### اسٹیک شروع کریں

```bash
# Start PostgreSQL and MCP Server
docker compose up -d

# View logs
docker compose logs -f

# View MCP Server Logs
docker compose logs -f mcp_server

# View the PostgreSQL Logs
docker compose logs -f pg17

# Stop the stack
docker compose down -v
```

## استعمال

یہ فرض کیا جاتا ہے کہ آپ VS Code میں بلٹ ان MCP سرور سپورٹ استعمال کریں گے۔

1. پروجیکٹ کو VS Code میں کھولیں۔ ٹرمینل سے چلائیں:

    ```bash
    code .
    ```

2. `.vscode/mcp.json` میں موجود کنفیگریشنز کا استعمال کرتے ہوئے ایک یا زیادہ MCP سرورز شروع کریں۔ فائل میں چار مختلف سرور کنفیگریشنز ہیں، ہر ایک مختلف اسٹور مینیجر کے کردار کی نمائندگی کرتا ہے:

   - ہر کنفیگریشن ایک منفرد RLS (Row Level Security) یوزر ID استعمال کرتا ہے
   - یہ یوزر IDs مختلف اسٹور مینیجر کی شناختوں کو ڈیٹا بیس تک رسائی کی نقل کرتے ہیں
   - RLS سسٹم ڈیٹا تک رسائی کو مینیجر کے تفویض کردہ اسٹور کی بنیاد پر محدود کرتا ہے
   - یہ حقیقی دنیا کے منظرناموں کی نقل کرتا ہے جہاں اسٹور مینیجر مختلف Entra ID اکاؤنٹس کے ساتھ سائن ان کرتے ہیں

    ```json
    {
        "servers": {
            "zava-sales-analysis-headoffice": {
                "url": "http://127.0.0.1:8000/mcp",
                "type": "http",
                "headers": {"x-rls-user-id": "00000000-0000-0000-0000-000000000000"}
            },
            "zava-sales-analysis-seattle": {
                "url": "http://127.0.0.1:8000/mcp",
                "type": "http",
                "headers": {"x-rls-user-id": "f47ac10b-58cc-4372-a567-0e02b2c3d479"}
            },
            "zava-sales-analysis-redmond": {
                "url": "http://127.0.0.1:8000/mcp",
                "type": "http",
                "headers": {"x-rls-user-id": "e7f8a9b0-c1d2-3e4f-5678-90abcdef1234"}
            },
            "zava-sales-analysis-online": {
                "url": "http://127.0.0.1:8000/mcp",
                "type": "http",
                "headers": {"x-rls-user-id": "2f4e6d8c-1a3b-5c7e-9f0a-b2d4f6e8c0a2"}
            }
        },
        "inputs": []
    }
    ```

### VS Code AI چیٹ کھولیں

1. VS Code میں AI چیٹ موڈ کھولیں
2. **#zava** ٹائپ کریں اور ان MCP سرورز میں سے ایک منتخب کریں جو آپ نے شروع کیے ہیں
3. سیلز ڈیٹا کے بارے میں سوالات پوچھیں - نیچے دیے گئے نمونہ سوالات دیکھیں

### نمونہ سوالات

1. سیلز ریونیو کے لحاظ سے ٹاپ 20 پروڈکٹس دکھائیں
1. اسٹور کے لحاظ سے سیلز دکھائیں
1. پچھلی سہ ماہی کے زمرے کے لحاظ سے سیلز کیا تھے؟
1. ہم کون سے پروڈکٹس فروخت کرتے ہیں جو "پینٹ کے لیے کنٹینرز" سے ملتے جلتے ہیں؟

## خصوصیات

- **ملٹی ٹیبل اسکیمہ رسائی**: ایک درخواست میں متعدد ڈیٹا بیس ٹیبلز کے اسکیمہ حاصل کریں
- **محفوظ کوئری ایگزیکیوشن**: PostgreSQL کوئریز کو Row Level Security (RLS) سپورٹ کے ساتھ چلائیں
- **ریئل ٹائم ڈیٹا**: موجودہ سیلز، انوینٹری، اور کسٹمر ڈیٹا تک رسائی
- **تاریخ/وقت کے یوٹیلیٹیز**: وقت کے حساس تجزیے کے لیے موجودہ UTC ٹائم اسٹیمپس حاصل کریں
- **لچکدار تعیناتی**: HTTP سرور موڈ کو سپورٹ کرتا ہے

## سپورٹڈ ٹیبلز

سرور درج ذیل ریٹیل ڈیٹا بیس ٹیبلز تک رسائی فراہم کرتا ہے:

- `retail.customers` - کسٹمر کی معلومات اور پروفائلز
- `retail.stores` - اسٹور کے مقامات اور تفصیلات
- `retail.categories` - پروڈکٹ کیٹیگریز اور ہائیرارکیز
- `retail.product_types` - پروڈکٹ ٹائپ کی درجہ بندی
- `retail.products` - پروڈکٹ کیٹلاگ اور وضاحتیں
- `retail.orders` - کسٹمر کے آرڈرز اور لین دین
- `retail.order_items` - آرڈرز کے اندر انفرادی آئٹمز
- `retail.inventory` - موجودہ انوینٹری لیولز اور اسٹاک ڈیٹا

## دستیاب ٹولز

### `get_multiple_table_schemas`

ایک درخواست میں متعدد ٹیبلز کے ڈیٹا بیس اسکیمہ حاصل کریں۔

**پیرامیٹرز:**

- `table_names` (list[str]): اوپر دیے گئے سپورٹڈ ٹیبلز میں سے درست ٹیبل ناموں کی فہرست

**ریٹرنز:** درخواست کردہ ٹیبلز کے لیے کنکیٹینیٹڈ اسکیمہ اسٹرنگز

### `execute_sales_query`

Row Level Security کے ساتھ سیلز ڈیٹا بیس کے خلاف PostgreSQL کوئریز چلائیں۔

**پیرامیٹرز:**

- `postgresql_query` (str): ایک درست PostgreSQL کوئری

**ریٹرنز:** کوئری کے نتائج اسٹرنگ کی شکل میں (پڑھنے میں آسانی کے لیے 20 قطاروں تک محدود)

**بہترین طریقے:**

- ہمیشہ پہلے ٹیبل اسکیمہ حاصل کریں
- اسکیمہ سے درست کالم نام استعمال کریں
- جامع تجزیے کے لیے متعلقہ ٹیبلز کو جوڑیں
- نتائج کو مناسب وقت پر جمع کریں
- پڑھنے میں آسانی کے لیے آؤٹ پٹ کو محدود کریں

### `get_current_utc_date`

موجودہ UTC تاریخ اور وقت ISO فارمیٹ میں حاصل کریں۔

**ریٹرنز:** موجودہ UTC تاریخ/وقت ISO فارمیٹ میں (YYYY-MM-DDTHH:MM:SS.fffffZ)

### `semantic_search_products`

یوزر کے سوالات کی بنیاد پر پروڈکٹس کے لیے سیمینٹک سرچ کریں۔

**ریٹرنز:** تلاش کے معیار سے مطابقت رکھنے والے پروڈکٹس کی فہرست

**پیرامیٹرز:**

- `query` (str): تلاش کا سوال

**ریٹرنز:** تلاش کے معیار سے مطابقت رکھنے والے پروڈکٹس کی فہرست

## سیکیورٹی خصوصیات

### Row Level Security (RLS)

سرور Row Level Security نافذ کرتا ہے تاکہ یوزرز صرف وہ ڈیٹا دیکھ سکیں جس کے وہ مجاز ہیں:

- **HTTP موڈ**: درخواست کرنے والے یوزر کی شناخت کے لیے `x-rls-user-id` ہیڈر استعمال کرتا ہے

- **ڈیفالٹ فال بیک**: یوزر ID فراہم نہ ہونے پر پلیس ہولڈر UUID استعمال کرتا ہے

#### اسٹور کے مخصوص RLS یوزر IDs

ہر Zava Retail اسٹور لوکیشن کا ایک منفرد RLS یوزر ID ہوتا ہے جو یہ طے کرتا ہے کہ یوزر کون سا ڈیٹا دیکھ سکتا ہے:

| اسٹور لوکیشن | RLS یوزر ID | تفصیل |
|---------------|-------------|-------------|
| **گلوبل ایکسیس** | `00000000-0000-0000-0000-000000000000` | ڈیفالٹ فال بیک - تمام اسٹورز تک رسائی |
| **سیئٹل** | `f47ac10b-58cc-4372-a567-0e02b2c3d479` | Zava Retail سیئٹل اسٹور ڈیٹا |
| **بیلیوو** | `6ba7b810-9dad-11d1-80b4-00c04fd430c8` | Zava Retail بیلیوو اسٹور ڈیٹا |
| **ٹاکوما** | `a1b2c3d4-e5f6-7890-abcd-ef1234567890` | Zava Retail ٹاکوما اسٹور ڈیٹا |
| **سپوکین** | `d8e9f0a1-b2c3-4567-8901-234567890abc` | Zava Retail سپوکین اسٹور ڈیٹا |
| **ایورٹ** | `3b9ac9fa-cd5e-4b92-a7f2-b8c1d0e9f2a3` | Zava Retail ایورٹ اسٹور ڈیٹا |
| **ریڈمنڈ** | `e7f8a9b0-c1d2-3e4f-5678-90abcdef1234` | Zava Retail ریڈمنڈ اسٹور ڈیٹا |
| **کرکلینڈ** | `9c8b7a65-4321-fed0-9876-543210fedcba` | Zava Retail کرکلینڈ اسٹور ڈیٹا |
| **آن لائن** | `2f4e6d8c-1a3b-5c7e-9f0a-b2d4f6e8c0a2` | Zava Retail آن لائن اسٹور ڈیٹا |

#### RLS نفاذ

جب یوزر کسی مخصوص اسٹور کے RLS یوزر ID کے ساتھ کنیکٹ کرتا ہے، تو وہ صرف درج ذیل دیکھ سکے گا:

- اس اسٹور سے وابستہ کسٹمرز
- اس اسٹور لوکیشن پر کیے گئے آرڈرز
- اس مخصوص اسٹور کے لیے انوینٹری ڈیٹا
- اسٹور کے مخصوص سیلز اور کارکردگی کے میٹرکس

یہ مختلف اسٹور لوکیشنز کے درمیان ڈیٹا کی علیحدگی کو یقینی بناتا ہے جبکہ ایک متحد ڈیٹا بیس اسکیمہ برقرار رکھتا ہے۔

## آرکیٹیکچر

### ایپلیکیشن سیاق و سباق

سرور ایک منظم ایپلیکیشن سیاق و سباق استعمال کرتا ہے:

- **ڈیٹا بیس کنکشن پول**: HTTP موڈ کے لیے موثر کنکشن مینجمنٹ
- **لائف سائیکل مینجمنٹ**: شٹ ڈاؤن پر وسائل کی مناسب صفائی
- **ٹائپ سیفٹی**: `AppContext` ڈیٹا کلاس کے ساتھ مضبوطی سے ٹائپ شدہ سیاق و سباق

### درخواست کا سیاق و سباق

- **ہیڈر ایکسٹریکشن**: یوزر کی شناخت کے لیے محفوظ ہیڈر پارسنگ
- **RLS انضمام**: درخواست کے سیاق و سباق سے یوزر ID کا خودکار حل
- **ایرر ہینڈلنگ**: یوزر کے لیے دوستانہ پیغامات کے ساتھ جامع ایرر ہینڈلنگ

## ڈیٹا بیس انضمام

سرور PostgreSQL ڈیٹا بیس کے ساتھ `PostgreSQLSchemaProvider` کلاس کے ذریعے انضمام کرتا ہے:

- **کنکشن پولنگ**: اسکیل ایبلٹی کے لیے async کنکشن پولز استعمال کرتا ہے
- **اسکیمہ میٹا ڈیٹا**: تفصیلی ٹیبل اسکیمہ معلومات فراہم کرتا ہے
- **کوئری ایگزیکیوشن**: RLS سپورٹ کے ساتھ محفوظ کوئری ایگزیکیوشن
- **وسائل کا انتظام**: ڈیٹا بیس وسائل کی خودکار صفائی

## ایرر ہینڈلنگ

سرور مضبوط ایرر ہینڈلنگ نافذ کرتا ہے:

- **ٹیبل کی توثیق**: یقینی بناتا ہے کہ صرف درست ٹیبل ناموں تک رسائی حاصل کی جائے
- **کوئری کی توثیق**: PostgreSQL کوئریز کو چلانے سے پہلے توثیق کرتا ہے
- **وسائل کا انتظام**: ایرر کے دوران بھی مناسب صفائی
- **یوزر کے لیے دوستانہ پیغامات**: خرابیوں کا پتہ لگانے کے لیے واضح ایرر پیغامات

## سیکیورٹی کے تحفظات

1. **Row Level Security**: تمام کوئریز یوزر کی شناخت کی بنیاد پر RLS پالیسیوں کا احترام کرتی ہیں
2. **اسٹور ڈیٹا کی علیحدگی**: ہر اسٹور کا RLS یوزر ID صرف اس اسٹور کے ڈیٹا تک رسائی کو یقینی بناتا ہے
3. **ان پٹ کی توثیق**: ٹیبل ناموں اور کوئریز کو چلانے سے پہلے توثیق کی جاتی ہے
4. **وسائل کی حدود**: کوئری کے نتائج کو ضرورت سے زیادہ وسائل کے استعمال کو روکنے کے لیے محدود کیا جاتا ہے
5. **کنکشن سیکیورٹی**: محفوظ ڈیٹا بیس کنکشن کے طریقے استعمال کرتا ہے
6. **یوزر کی شناخت کی تصدیق**: ہمیشہ یقینی بنائیں کہ صحیح RLS یوزر ID مطلوبہ اسٹور کے لیے استعمال ہو

### اہم سیکیورٹی نوٹس

- **پروڈکشن RLS یوزر IDs کو ترقیاتی ماحول میں کبھی استعمال نہ کریں**
- **ہمیشہ تصدیق کریں کہ RLS یوزر ID مطلوبہ اسٹور سے مطابقت رکھتا ہے**
- **ڈیفالٹ UUID (`00000000-0000-0000-0000-000000000000`) محدود رسائی فراہم کرتا ہے**
- **ہر اسٹور مینیجر کو صرف اپنے اسٹور کے RLS یوزر ID تک رسائی حاصل ہونی چاہیے**

## ترقی

### پروجیکٹ کا ڈھانچہ

```text
mcp_server/
├── sales_analysis.py          # Main MCP server implementation
├── sales_analysis_postgres.py # PostgreSQL integration layer
├── sales_analysis_text_embedding.py # Text embedding for semantic search tool
```

### کلیدی اجزاء

- **FastMCP سرور**: جدید MCP سرور نفاذ async سپورٹ کے ساتھ
- **PostgreSQL فراہم کنندہ**: ڈیٹا بیس ایبسٹریکشن لیئر RLS سپورٹ کے ساتھ
- **سیاق و سباق کا انتظام**: ٹائپ سیف ایپلیکیشن اور درخواست کے سیاق و سباق کا انتظام
- **ٹول رجسٹریشن**: Pydantic توثیق کے ساتھ اعلامی ٹول رجسٹریشن

## تعاون

جب اس سرور میں تعاون کریں:

1. یقینی بنائیں کہ تمام ڈیٹا بیس کوئریز Row Level Security کا احترام کرتی ہیں
2. نئے ٹولز کے لیے مناسب ایرر ہینڈلنگ شامل کریں
3. کسی بھی نئی خصوصیات یا تبدیلیوں کے ساتھ اس README کو اپ ڈیٹ کریں
4. HTTP سرور موڈ کی جانچ کریں
5. ان پٹ پیرامیٹرز کی توثیق کریں اور واضح ایرر پیغامات فراہم کریں

## [لائسنس](https://github.com/microsoft/MCP-Server-and-PostgreSQL-Sample-Retail/blob/main/LICENSE)

---

*یہ MCP سرور Zava Retail سیلز ڈیٹا تک AI سے چلنے والے تجزیے اور بصیرت کے لیے محفوظ، موثر رسائی فراہم کرتا ہے۔*

---

**ڈسکلیمر**:  
یہ دستاویز AI ترجمہ سروس [Co-op Translator](https://github.com/Azure/co-op-translator) کا استعمال کرتے ہوئے ترجمہ کی گئی ہے۔ ہم درستگی کے لیے کوشش کرتے ہیں، لیکن براہ کرم آگاہ رہیں کہ خودکار ترجمے میں غلطیاں یا غیر درستیاں ہو سکتی ہیں۔ اصل دستاویز کو اس کی اصل زبان میں مستند ذریعہ سمجھا جانا چاہیے۔ اہم معلومات کے لیے، پیشہ ور انسانی ترجمہ کی سفارش کی جاتی ہے۔ اس ترجمے کے استعمال سے پیدا ہونے والی کسی بھی غلط فہمی یا غلط تشریح کے لیے ہم ذمہ دار نہیں ہیں۔